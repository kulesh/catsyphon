{"id":"catsyphon-0xh","content_hash":"ce83799c4f2263d9d29d1d3ea1718e65f43bb0c6f6f60a33944f7ba9ac5368cd","title":"Add startup validation tests (currently 75% coverage)","description":"Complete test coverage for startup.py validation logic:\n- Database migration status checks (lines 93-107)\n- Connection pool validation (lines 125-170)\n- Health check initialization (lines 289-290)\n- Mock database connections and test error scenarios\nTarget: 90%+ coverage","status":"open","priority":1,"issue_type":"task","created_at":"2025-11-12T22:20:28.570103-05:00","updated_at":"2025-11-12T22:20:28.570103-05:00","source_repo":"."}
{"id":"catsyphon-1","content_hash":"00c2a3be2903eadbd72a6e28d7a72c8941a7fa5e9f6d20839f5853314e82f6a9","title":"Phase 1: Data Foundation \u0026 Processing Pipeline","description":"","status":"open","priority":1,"issue_type":"epic","created_at":"2025-10-30T11:31:10.999474-04:00","updated_at":"2025-10-30T11:31:10.999474-04:00","source_repo":"."}
{"id":"catsyphon-10","content_hash":"db3fadd8f90387742d94df47037b041f7c3ff52d3029ec135a17c4887f9f7802","title":"Implement Claude Code log parser with plugin architecture","description":"","status":"closed","priority":1,"issue_type":"task","created_at":"2025-10-30T12:13:03.645803-04:00","updated_at":"2025-11-02T22:06:41.581919-05:00","closed_at":"2025-11-02T22:06:41.581919-05:00","source_repo":".","dependencies":[{"issue_id":"catsyphon-10","depends_on_id":"catsyphon-1","type":"blocks","created_at":"2025-10-30T12:13:03.646529-04:00","created_by":"kulesh"}]}
{"id":"catsyphon-11","content_hash":"69761fdf64f6e8b948deffde918c9866619e2d6109691685a21be5003b35b1f1","title":"Implement LLM-based tagging engine using OpenAI gpt-4o-mini","description":"","status":"closed","priority":1,"issue_type":"task","created_at":"2025-10-30T12:13:03.658088-04:00","updated_at":"2025-11-14T15:12:05.755009-05:00","closed_at":"2025-11-12T22:07:38.441288-05:00","source_repo":".","dependencies":[{"issue_id":"catsyphon-11","depends_on_id":"catsyphon-1","type":"blocks","created_at":"2025-10-30T12:13:03.658679-04:00","created_by":"kulesh"}]}
{"id":"catsyphon-12","content_hash":"9612c720e58eca7586be6455ccf39f83122a86b3642f05b294bd4e8971cc69be","title":"Build data ingestion pipeline with CLI commands","description":"CLI ingest command fully implemented with parser integration. Supports single file and batch directory processing with --dry-run mode. Complete database storage integration creates Projects, Developers, Conversations, Epochs, Messages, FilesTouched, and RawLog records. All repositories implemented and comprehensively tested.","status":"closed","priority":1,"issue_type":"task","created_at":"2025-10-30T12:13:03.670278-04:00","updated_at":"2025-11-08T12:12:35.979825-05:00","closed_at":"2025-11-08T12:12:35.979825-05:00","source_repo":".","dependencies":[{"issue_id":"catsyphon-12","depends_on_id":"catsyphon-1","type":"blocks","created_at":"2025-10-30T12:13:03.670842-04:00","created_by":"kulesh"}]}
{"id":"catsyphon-13","content_hash":"b7cc511e8e62c34bb585a1211353febc5636d00efdcf18b52ab706c2155672f5","title":"Implement FastAPI endpoints for querying conversations","description":"API endpoints completed and tested. Working endpoints: conversations (list, detail, messages), stats/overview, projects, developers","status":"closed","priority":1,"issue_type":"task","created_at":"2025-10-30T12:13:09.886893-04:00","updated_at":"2025-11-03T00:54:39.904302-05:00","closed_at":"2025-11-03T00:54:39.904302-05:00","source_repo":".","dependencies":[{"issue_id":"catsyphon-13","depends_on_id":"catsyphon-1","type":"blocks","created_at":"2025-10-30T12:13:09.887575-04:00","created_by":"kulesh"}]}
{"id":"catsyphon-14","content_hash":"f1bdedaac16d01a3d6e448b7519688404b00dd38383dc9b0f6d84abc317dbdd9","title":"Setup frontend skeleton (Vite + React + TypeScript + Tailwind v4)","description":"Frontend complete\\! All 5 subtasks closed (h4b, y0g, nuj, zug, 5py). 3 pages built (Dashboard, List, Detail), full API integration, responsive design, comprehensive testing checklist created. Build: 358kb bundled, 109kb gzipped. See FRONTEND_COMPLETE.md for details.","status":"closed","priority":2,"issue_type":"task","created_at":"2025-10-30T12:13:09.899203-04:00","updated_at":"2025-11-07T23:52:22.506232-05:00","closed_at":"2025-11-07T23:52:22.506232-05:00","source_repo":".","dependencies":[{"issue_id":"catsyphon-14","depends_on_id":"catsyphon-1","type":"blocks","created_at":"2025-10-30T12:13:09.899773-04:00","created_by":"kulesh"}]}
{"id":"catsyphon-15","content_hash":"532839aa1cf0f81afbe6c113218688a81b667e1f542f66f06b6879a50b9be716","title":"Implement database connection and repository layer","description":"","status":"closed","priority":1,"issue_type":"task","created_at":"2025-10-30T12:13:15.765424-04:00","updated_at":"2025-11-01T17:22:10.263855-04:00","closed_at":"2025-11-01T17:22:10.263855-04:00","source_repo":".","dependencies":[{"issue_id":"catsyphon-15","depends_on_id":"catsyphon-1","type":"blocks","created_at":"2025-10-30T12:13:15.766034-04:00","created_by":"kulesh"}]}
{"id":"catsyphon-16","content_hash":"aaf2e5fc6541bf4ae01c2e243bb1c14a6f164843b67b361c252e4c46df2a3764","title":"Setup testing infrastructure and write initial tests","description":"","status":"closed","priority":2,"issue_type":"task","created_at":"2025-10-30T12:13:15.777923-04:00","updated_at":"2025-11-02T22:06:50.594073-05:00","closed_at":"2025-11-02T22:06:50.594073-05:00","source_repo":".","dependencies":[{"issue_id":"catsyphon-16","depends_on_id":"catsyphon-1","type":"blocks","created_at":"2025-10-30T12:13:15.778499-04:00","created_by":"kulesh"}]}
{"id":"catsyphon-17b","content_hash":"e0ffa2018e5a8657563521327c6e54c20d6f4bd34bc97f834575c1986bdec3c0","title":"Update navigation to use Ingestion page","description":"","status":"open","priority":1,"issue_type":"task","created_at":"2025-11-14T20:05:54.466511-05:00","updated_at":"2025-11-14T20:05:54.466511-05:00","source_repo":"."}
{"id":"catsyphon-1de","content_hash":"8bce1109b6fde1b0a08036d7c58cc54d7fdd8ad42afee3bf7ff9a0e0859f818a","title":"Unified Ingestion Management UI","description":"","status":"open","priority":1,"issue_type":"feature","created_at":"2025-11-14T20:05:03.599836-05:00","updated_at":"2025-11-14T20:05:03.599836-05:00","source_repo":"."}
{"id":"catsyphon-1or","content_hash":"80ce6fe41ef56f4032ea955c570c39d28edfbfddf5a1438b13550d0669f76cc1","title":"Add file upload functionality to web UI","description":"","status":"closed","priority":1,"issue_type":"task","created_at":"2025-11-08T00:43:35.965735-05:00","updated_at":"2025-11-08T00:43:59.064342-05:00","closed_at":"2025-11-08T00:43:59.064342-05:00","source_repo":"."}
{"id":"catsyphon-1zu","content_hash":"d86599876cf6b513d3f99a97219aec48d43d40528f190f608d738153953bc0ce","title":"Create base Ingestion page with tab structure","description":"","status":"open","priority":1,"issue_type":"task","created_at":"2025-11-14T20:05:26.321641-05:00","updated_at":"2025-11-14T20:05:26.321641-05:00","source_repo":"."}
{"id":"catsyphon-2","content_hash":"9fe588a37d96756f6faa222b2154dfa139edc7f1b6b0fe2b50f4bc1a92147d3c","title":"Design and implement PostgreSQL database schema","description":"","status":"closed","priority":1,"issue_type":"task","created_at":"2025-10-30T11:31:17.092932-04:00","updated_at":"2025-10-30T12:14:07.007455-04:00","closed_at":"2025-10-30T12:14:07.007455-04:00","source_repo":".","dependencies":[{"issue_id":"catsyphon-2","depends_on_id":"catsyphon-1","type":"blocks","created_at":"2025-10-30T11:31:17.093616-04:00","created_by":"kulesh"}]}
{"id":"catsyphon-2m1","content_hash":"b3b611bfad38137d9f005b9b30ad68aa9bd2887ad86e5066639baeae03efaffd","title":"Add database indexes for conversation queries","description":"Add database indexes to improve query performance for conversation list and filters\n\n**Current Issue:**\n- No indexes on conversations table for commonly filtered/sorted columns\n- All filtered queries do full table scans\n- Performance degrades as conversation count grows\n\n**Indexes Needed:**\n1. conversations.project_id (foreign key, frequently filtered)\n2. conversations.developer_id (foreign key, frequently filtered)\n3. conversations.agent_type (varchar, frequently filtered)\n4. conversations.status (varchar, frequently filtered)\n5. conversations.success (boolean, frequently filtered)\n6. conversations.start_time (timestamp, sorted by default)\n7. conversations.updated_at (timestamp, used for sorting)\n8. Composite index on (project_id, start_time) for common project queries\n\n**Implementation:**\n1. Create Alembic migration with index definitions\n2. Add index=True to SQLAlchemy model columns\n3. Test query performance before/after with EXPLAIN ANALYZE\n4. Consider partial indexes for common filters (e.g., status='in_progress')\n\n**Files to Modify:**\n- backend/src/catsyphon/models/db.py (add index=True)\n- Create new Alembic migration\n- backend/tests/test_db/test_performance.py (optional performance tests)\n\n**Testing:**\n- Run migration on development database\n- Use psql EXPLAIN ANALYZE to verify index usage\n- Test with large dataset (1000+ conversations)\n- Verify no query regression","status":"open","priority":2,"issue_type":"task","created_at":"2025-11-12T23:48:48.016229-05:00","updated_at":"2025-11-12T23:48:48.016229-05:00","source_repo":"."}
{"id":"catsyphon-3qj","content_hash":"ba9eefce5b5caf0603073721a89d3cc1122aa54379188e0e1a8567cd6dc528fd","title":"Add API client functions for ingestion endpoints","description":"","status":"closed","priority":1,"issue_type":"task","created_at":"2025-11-14T20:05:20.690023-05:00","updated_at":"2025-11-14T20:07:55.4754-05:00","closed_at":"2025-11-14T20:07:55.4754-05:00","source_repo":"."}
{"id":"catsyphon-4","content_hash":"689255fd990c25b9b523e6e4bf2bef3182c9fb87298df33c5e2330723edfa26e","title":"Implement LLM-based tagging engine (sentiment, intent, outcome)","description":"","status":"closed","priority":1,"issue_type":"task","created_at":"2025-10-30T11:31:23.793005-04:00","updated_at":"2025-10-30T12:14:07.031597-04:00","closed_at":"2025-10-30T12:14:07.031597-04:00","source_repo":".","dependencies":[{"issue_id":"catsyphon-4","depends_on_id":"catsyphon-1","type":"blocks","created_at":"2025-10-30T11:31:23.793578-04:00","created_by":"kulesh"}]}
{"id":"catsyphon-41p","content_hash":"e0c4ba9133b88622257c021ac509000a557e62e8ed6cb8b71806a60d805b6963","title":"Fix watch daemon creating duplicate conversations for live sessions","description":"Watch daemon creates new conversation on every file change, not recognizing ongoing sessions\n\n**Critical Bug:** Live Claude Code sessions append to .jsonl files continuously. Watch daemon treats \neach file modification as a NEW conversation, creating 800+ duplicate database records for one session\\!\n\n**Root Cause:**\nDeduplication in ingestion.py only checks file_hash:\n```python\nfile_hash = calculate_file_hash(file_path)\nif raw_log_repo.exists_by_file_hash(file_hash):\n    skip_duplicates  # ❌ Hash changes with every message append\\!\n```\n\n**Evidence:**\n- Session 6d241b34-b9bc-4582-bdd9-225b0f2309c2: 805 conversations from ONE file\n- Time span: 207 minutes = ~1 conversation every 15 seconds\n- 20 files in watch dir, but 835 conversations in DB (41x multiplication\\!)\n\n**Impact:**\n- Massive database bloat (800+ duplicate records per session)\n- Incorrect analytics (one session counted 800 times)\n- Performance degradation (unnecessary ingestion processing)\n\n**Solution:**\nAdd session ID deduplication alongside file hash:\n\n1. Parse session_id from file BEFORE full ingestion\n2. Check if conversation with session_id already exists\n3. If exists AND file is being watched live:\n   - Option A: Skip ingestion (wait for session to complete)\n   - Option B: Update existing conversation (append new messages)\n   - Option C: Delete old + create new (replace with latest state)\n4. If exists AND file hash matches: Skip (true duplicate)\n5. If not exists: Create new conversation\n\n**Recommended Approach (Option A):**\nSkip live files, only ingest completed sessions:\n- Add debounce: Wait for file to be stable (no changes for X minutes)\n- Or: Only ingest files older than X minutes\n- Prevents partial session ingestion\n\n**Alternative (Option C - Simpler):**\nUpdate existing conversation with latest data:\n- Find conversation by session_id\n- Delete old messages/epochs/files\n- Re-ingest with updated data\n- Maintain conversation ID (preserve references)\n\n**Files to Modify:**\n- backend/src/catsyphon/pipeline/ingestion.py (add session_id check)\n- backend/src/catsyphon/db/repositories/conversation.py (add get_by_session_id)\n- backend/src/catsyphon/watch.py (add file stability check/debounce)\n- backend/tests/test_pipeline_ingestion.py (test deduplication)\n\n**Testing:**\n- Simulate live file: append messages repeatedly, verify single conversation\n- Test with completed files: verify normal ingestion\n- Test manual re-ingest: verify skip/update behavior\n- Cleanup script: Deduplicate existing database records by session_id\n\n**Migration/Cleanup:**\nCreate script to clean up existing duplicates:\n```sql\n-- Keep only the latest conversation per session_id\nDELETE FROM conversations \nWHERE id NOT IN (\n    SELECT MAX(id) \n    FROM conversations \n    GROUP BY metadata-\u003e\u003e'session_id'\n);\n```","status":"closed","priority":0,"issue_type":"bug","created_at":"2025-11-13T00:26:58.020604-05:00","updated_at":"2025-11-13T01:13:54.228548-05:00","closed_at":"2025-11-13T01:13:54.228548-05:00","source_repo":"."}
{"id":"catsyphon-43z","content_hash":"7749918e902da4f153e70362a4651b274d6df495f5d82f7b0e4d935029035919","title":"Fix Pydantic deprecation warnings (Config → ConfigDict)","description":"Update Pydantic models to use ConfigDict instead of Config class:\n- Update all model classes in api/schemas.py\n- Migrate from 'class Config' pattern to 'model_config = ConfigDict(...)'\n- Ensures compatibility with Pydantic V3\n- Currently 8 deprecation warnings in test output","status":"open","priority":3,"issue_type":"task","created_at":"2025-11-12T22:20:52.375926-05:00","updated_at":"2025-11-12T22:20:52.375926-05:00","source_repo":"."}
{"id":"catsyphon-4tx","content_hash":"23db0e422e0065b1e44a2be9e2c6f30a8706fa27d2a6df0da81baa7761ae21f2","title":"Add upload progress feedback for multiple files","description":"","status":"closed","priority":2,"issue_type":"task","created_at":"2025-11-08T01:10:59.124844-05:00","updated_at":"2025-11-08T01:11:22.143887-05:00","closed_at":"2025-11-08T01:11:22.143887-05:00","source_repo":"."}
{"id":"catsyphon-5","content_hash":"0d270cc5394daa1aae827481f5d4039b990178cd309b2f88a053ec17de3cdfa2","title":"Build data ingestion pipeline CLI tool","description":"","status":"closed","priority":1,"issue_type":"task","created_at":"2025-10-30T11:31:23.80541-04:00","updated_at":"2025-10-30T12:14:07.043154-04:00","closed_at":"2025-10-30T12:14:07.043154-04:00","source_repo":".","dependencies":[{"issue_id":"catsyphon-5","depends_on_id":"catsyphon-1","type":"blocks","created_at":"2025-10-30T11:31:23.805973-04:00","created_by":"kulesh"}]}
{"id":"catsyphon-5ir","content_hash":"4c3f76dec169e900b018353312bf68adbb401052c4eea4e16d348d4b48b51fa0","title":"Fix ConversationList caching strategy for instant rendering","description":"ConversationList page takes too long to load due to aggressive refetch behavior\n\n**Current Behavior:**\n- staleTime: 10 seconds (data considered stale immediately)\n- refetchInterval: 15 seconds (constant background refetching)\n- Navigation always shows loading state instead of cached data\n\n**Expected Behavior:**\n- Show cached data instantly (stale-while-revalidate pattern)\n- Refetch in background to update\n- Only show loading on first visit or explicit refresh\n\n**Solution:**\n1. Increase staleTime for list queries (e.g., 5 minutes)\n2. Keep refetchInterval but only for Dashboard (remove from list page)\n3. Use placeholderData to show cached results while refetching\n4. Add refetchOnMount: false for list page to prevent unnecessary refetches\n\n**Files to Modify:**\n- frontend/src/lib/queryClient.ts (adjust global defaults)\n- frontend/src/pages/ConversationList.tsx (override query options)\n- Consider per-query configuration instead of global aggressive refetch\n\n**Testing:**\n- Navigate to /conversations multiple times - should be instant after first load\n- Wait 15+ seconds on page - should see background update without loading state\n- Apply filters - should refetch immediately (fresh data needed)\n- Use React Query DevTools to verify cache behavior","status":"closed","priority":1,"issue_type":"bug","created_at":"2025-11-12T23:48:31.846511-05:00","updated_at":"2025-11-12T23:53:47.548188-05:00","closed_at":"2025-11-12T23:53:47.548188-05:00","source_repo":"."}
{"id":"catsyphon-5m9","content_hash":"d1a8d8404036ab818c6baeda9f6e49154efbfdae12789bb748009f97c62d5624","title":"Implement incremental updates for live conversation files","description":"Phase 2 optimization: Append new messages without full reparse\n\n**Blocks on:** catsyphon-41p\n\n**Goal:** Implement efficient incremental updates using only new file content.\n\n**Current State (Phase 1):**\n- Full reparse on every file change (933 messages parsed every time)\n- Delete + recreate all children\n- Correct but inefficient\n\n**Phase 2:** Implement update_mode='append':\n- Track last processed offset\n- Parse only NEW lines\n- INSERT new messages (no DELETE)\n- 10x performance improvement\n\n**Files:** ingestion.py, watch.py, parsers/utils.py, tests","status":"open","priority":2,"issue_type":"feature","created_at":"2025-11-13T00:42:21.23801-05:00","updated_at":"2025-11-13T00:42:21.23801-05:00","source_repo":"."}
{"id":"catsyphon-5py","content_hash":"9ad569f55572828191a81f698516dd98aa5d46d4afa491a10d8b5d9bbe0c72f8","title":"task","description":"Test complete workflow: Dashboard → List (with filters) → Detail → Back. Verify all API integrations work. Fix styling issues. Test responsive design on mobile. Verify error handling and loading states. Ensure no console errors.","status":"closed","priority":2,"issue_type":"task","created_at":"2025-11-07T23:35:42.822367-05:00","updated_at":"2025-11-07T23:52:10.73795-05:00","closed_at":"2025-11-07T23:52:10.73795-05:00","source_repo":"."}
{"id":"catsyphon-6","content_hash":"39bb7442c6d484d4dd2e2ab5bd6e24bd4266ed6a4a88c1ba4c301712b5f8a8e3","title":"Create basic query API for accessing conversation data","description":"","status":"closed","priority":1,"issue_type":"task","created_at":"2025-10-30T11:31:23.817594-04:00","updated_at":"2025-10-30T12:14:07.054558-04:00","closed_at":"2025-10-30T12:14:07.054558-04:00","source_repo":".","dependencies":[{"issue_id":"catsyphon-6","depends_on_id":"catsyphon-1","type":"blocks","created_at":"2025-10-30T11:31:23.818123-04:00","created_by":"kulesh"}]}
{"id":"catsyphon-7","content_hash":"7b3219647f7feb1ff672127a993dbec982f11c698b67047ba7f511d8191f5a55","title":"Create comprehensive implementation plan documentation","description":"","status":"closed","priority":1,"issue_type":"task","created_at":"2025-10-30T11:31:28.978852-04:00","updated_at":"2025-10-30T12:10:59.661702-04:00","closed_at":"2025-10-30T12:10:59.661702-04:00","source_repo":".","dependencies":[{"issue_id":"catsyphon-7","depends_on_id":"catsyphon-1","type":"blocks","created_at":"2025-10-30T11:31:28.97952-04:00","created_by":"kulesh"}]}
{"id":"catsyphon-7qg","content_hash":"dd579a2d0b110c513c94d370b0bb6b34bfe185e81320e9b27c11513ec4b1cc64","title":"Add CLI command tests (currently 59% coverage)","description":"Add tests for CLI commands using Typer's CliRunner:\n- Watch command integration (lines 64-79)\n- Ingest command handling (lines 126-136)\n- Database status command (lines 160-165)\n- Mock dependencies (database, file system)\nTarget: 85%+ coverage","status":"open","priority":1,"issue_type":"task","created_at":"2025-11-12T22:20:18.047907-05:00","updated_at":"2025-11-12T22:20:18.047907-05:00","source_repo":"."}
{"id":"catsyphon-7rv","content_hash":"cc7a893c5137ebc541cb9dec1f8ad86082c302f8b4508666b0975db669ab575d","title":"Optimize conversations list page performance","description":"","status":"closed","priority":1,"issue_type":"task","created_at":"2025-11-08T01:44:56.049835-05:00","updated_at":"2025-11-08T01:45:23.963375-05:00","closed_at":"2025-11-08T01:45:23.963375-05:00","source_repo":"."}
{"id":"catsyphon-8","content_hash":"86a99f710725889df33e858140fcbfb8961bab9ee3ffabcd6dfaa02acc1aadd7","title":"Setup Alembic and create initial database schema migration","description":"","status":"closed","priority":1,"issue_type":"task","created_at":"2025-10-30T12:12:51.055815-04:00","updated_at":"2025-11-01T17:22:10.142239-04:00","closed_at":"2025-11-01T17:22:10.142239-04:00","source_repo":".","dependencies":[{"issue_id":"catsyphon-8","depends_on_id":"catsyphon-1","type":"blocks","created_at":"2025-10-30T12:12:51.056468-04:00","created_by":"kulesh"}]}
{"id":"catsyphon-8at","content_hash":"0f657c50ea1d513ab5747d62fbcf97a5f733bb2c4343f0dce0388276e10da353","title":"Add frontend test infrastructure (Vitest + React Testing Library)","description":"Setup Vitest and React Testing Library for frontend testing. Add basic component and API client tests. Estimated: 2-3 hours. Reference: backend test review completed with 400 tests passing (100% pass rate).","status":"closed","priority":2,"issue_type":"task","created_at":"2025-11-08T02:48:53.39272-05:00","updated_at":"2025-11-14T15:12:05.756463-05:00","closed_at":"2025-11-12T21:36:49.495857-05:00","source_repo":"."}
{"id":"catsyphon-9","content_hash":"459b20f4b1fa0744339f52784ddc3f6241e3962d05ae14ae352bd77a02a2233e","title":"Create SQLAlchemy models for all database tables","description":"","status":"closed","priority":1,"issue_type":"task","created_at":"2025-10-30T12:12:56.703257-04:00","updated_at":"2025-11-01T17:22:10.20455-04:00","closed_at":"2025-11-01T17:22:10.20455-04:00","source_repo":".","dependencies":[{"issue_id":"catsyphon-9","depends_on_id":"catsyphon-1","type":"blocks","created_at":"2025-10-30T12:12:56.70397-04:00","created_by":"kulesh"}]}
{"id":"catsyphon-981","content_hash":"2e6e29e94f5614b134cf8a9b601a4a3869290c67d99ea4468dfbae3615dd797c","title":"Add unified tagging settings panel","description":"","status":"open","priority":3,"issue_type":"task","created_at":"2025-11-14T20:06:00.08981-05:00","updated_at":"2025-11-14T20:06:00.08981-05:00","source_repo":"."}
{"id":"catsyphon-bbz","content_hash":"2941a62c2448f71f3c6029c64b6643e2dc724c1fc6967cca6d82af3d5aec44cc","title":"Implement Bulk Upload tab","description":"","status":"open","priority":1,"issue_type":"task","created_at":"2025-11-14T20:05:31.962385-05:00","updated_at":"2025-11-14T20:05:31.962385-05:00","source_repo":"."}
{"id":"catsyphon-ck3","content_hash":"ef42242b2429aaad854cbd579bea2f89746ed1fbe5743d3236e202cfe7c834cc","title":"CLI \u0026 Watch Daemon Integration: Add --enable-tagging flags","description":"","status":"closed","priority":1,"issue_type":"task","created_at":"2025-11-12T21:47:59.619801-05:00","updated_at":"2025-11-12T21:57:21.183693-05:00","closed_at":"2025-11-12T21:57:21.183693-05:00","source_repo":".","dependencies":[{"issue_id":"catsyphon-ck3","depends_on_id":"catsyphon-11","type":"blocks","created_at":"2025-11-12T21:47:59.621471-05:00","created_by":"kulesh"}]}
{"id":"catsyphon-d03","content_hash":"679b70e975f75b9cf8a0ead793723320c938404ffc44215944e27bafabd24a83","title":"Fix Cartesian explosion in conversation list query","description":"Conversation list query creates massive Cartesian product causing severe performance issues\n\n**Current Issue:**\nQuery uses 3 outer joins (messages, epochs, files_touched) with DISTINCT counts and GROUP BY.\nFor avg conversation (891 msgs × 5 epochs × 148 files) = 659,340 intermediate rows\\!\nFor 20 conversations, database processes ~13 MILLION rows.\n\n**Database Stats:**\n- 759 conversations total\n- Avg: 891 messages, 148 files per conversation\n- Max: 1,845 messages, 268 files in one conversation\n- Page size: 20 conversations\n- Result: 3-5 second query times\n\n**Root Cause:**\n`get_with_counts()` in conversation.py:302-389 does:\n```python\n.outerjoin(Message).outerjoin(Epoch).outerjoin(FileTouched)\n.group_by(Conversation.id)\n```\nThis creates Cartesian product before GROUP BY collapses it.\n\n**Solution: Denormalized Counts (Recommended)**\n1. Add columns to conversations table:\n   - message_count INTEGER DEFAULT 0\n   - epoch_count INTEGER DEFAULT 0  \n   - files_count INTEGER DEFAULT 0\n2. Update counts during ingestion (ingest_conversation)\n3. Add database triggers to keep counts in sync\n4. Migration to backfill existing counts\n5. Change get_with_counts() to simple SELECT with no joins\n\n**Alternative: Correlated Subqueries**\nReplace joins with subqueries (better than current, not as fast as denormalized):\n```python\n(SELECT COUNT(*) FROM messages WHERE conversation_id = c.id) as msg_count\n```\n\n**Files to Modify:**\n- backend/src/catsyphon/models/db.py (add count columns)\n- backend/src/catsyphon/db/repositories/conversation.py (update get_with_counts)\n- backend/src/catsyphon/pipeline/ingestion.py (update counts on insert)\n- Create Alembic migration with backfill\n- backend/tests/test_db/test_conversation_repository.py (update tests)\n\n**Performance Impact:**\n- Current: 3-5 seconds for 20 conversations\n- After fix: \u003c100ms for 20 conversations (30-50x faster)\n\n**Testing:**\n- Verify counts match before/after migration\n- Test count updates during ingestion\n- Load test with 1000+ conversations\n- EXPLAIN ANALYZE to verify no Cartesian product","status":"closed","priority":0,"issue_type":"bug","created_at":"2025-11-13T00:03:40.813207-05:00","updated_at":"2025-11-13T00:13:22.133155-05:00","closed_at":"2025-11-13T00:13:22.133155-05:00","source_repo":"."}
{"id":"catsyphon-dhs","content_hash":"d4837433a8a210ca64e373bb03cca7e056b028b1e0b80a732d22c3ae5b11fb1e","title":"task","description":"Implement comprehensive startup validation that checks database connection, migration status, and environment variables before FastAPI starts serving requests. Fail fast with clear, actionable error messages.","status":"closed","priority":1,"issue_type":"task","created_at":"2025-11-08T00:08:07.380238-05:00","updated_at":"2025-11-08T00:08:27.855368-05:00","closed_at":"2025-11-08T00:08:27.855368-05:00","source_repo":"."}
{"id":"catsyphon-dxg","content_hash":"589269644563872d92036ff1c5e04e136befdcbc6bdce3c24e6db2e0801a94d5","title":"Tagging Tests: Unit and integration tests for all taggers","description":"","status":"closed","priority":1,"issue_type":"task","created_at":"2025-11-12T21:48:05.397396-05:00","updated_at":"2025-11-12T22:07:26.893-05:00","closed_at":"2025-11-12T22:07:26.893-05:00","source_repo":".","dependencies":[{"issue_id":"catsyphon-dxg","depends_on_id":"catsyphon-11","type":"blocks","created_at":"2025-11-12T21:48:05.399041-05:00","created_by":"kulesh"}]}
{"id":"catsyphon-egq","content_hash":"3435fadac1ec1baa8fffbb3ea9945a848fbe483c441c1224f77a071c4eb2bb88","title":"Implement History \u0026 Logs tab with filters","description":"","status":"open","priority":1,"issue_type":"task","created_at":"2025-11-14T20:05:48.823122-05:00","updated_at":"2025-11-14T20:05:48.823122-05:00","source_repo":"."}
{"id":"catsyphon-h4b","content_hash":"b08a88059a83a65bf272f99e67bce2f47b37ebcc7e9e331390b44e708d9c2916","title":"task","description":"Set up React Router with 3 routes (/, /conversations, /conversations/:id). Configure TanStack Query with QueryClientProvider and DevTools. Create TypeScript types matching backend schemas. Build API client with fetch wrapper and error handling. Create empty page shells.","status":"closed","priority":2,"issue_type":"task","created_at":"2025-11-07T23:35:19.880035-05:00","updated_at":"2025-11-07T23:42:31.186409-05:00","closed_at":"2025-11-07T23:42:31.186409-05:00","source_repo":"."}
{"id":"catsyphon-n92","content_hash":"da3285886222abd0b8bc81e8f48a0f62d70f89ddc0dae3955080e6053680d993","title":"Add TypeScript types for ingestion APIs","description":"","status":"closed","priority":1,"issue_type":"task","created_at":"2025-11-14T20:05:15.065666-05:00","updated_at":"2025-11-14T20:07:02.634437-05:00","closed_at":"2025-11-14T20:07:02.634437-05:00","source_repo":"."}
{"id":"catsyphon-nuj","content_hash":"b4ead9a09bccb824a556a98b8b882e7682651d89c8df9024ef0e279a43ea7f8e","title":"task","description":"Create ConversationDetail page displaying full conversation data. Include metadata card, message timeline (chronological with tool calls/results), epochs section, files touched list, and tags display. Add back navigation to list. Handle code change displays.","status":"closed","priority":2,"issue_type":"task","created_at":"2025-11-07T23:35:31.3207-05:00","updated_at":"2025-11-07T23:48:18.890716-05:00","closed_at":"2025-11-07T23:48:18.890716-05:00","source_repo":"."}
{"id":"catsyphon-olc","content_hash":"4299c80b815508dbd531ee988fb9a7cd5af4273e8774f502936a80a569788be4","title":"Implement Live Activity monitoring tab","description":"","status":"open","priority":1,"issue_type":"task","created_at":"2025-11-14T20:05:43.210535-05:00","updated_at":"2025-11-14T20:05:43.210535-05:00","source_repo":"."}
{"id":"catsyphon-omd","content_hash":"9d56e136526f08fdaa55fcbb5fbdc11c38ac4f148e52462d1e731993f34f6b19","title":"Add manual tagging button to conversation detail page","description":"Allow users to manually trigger LLM tagging for a conversation from the UI\n\n**Requirements:**\n- Backend: Add POST /conversations/{id}/tag endpoint that runs TaggingPipeline on existing conversation\n- Update conversation tags in database after tagging\n- Frontend: Add 'Tag with AI' button to ConversationDetail page\n- Show loading state while tagging is in progress\n- Display new/updated tags after successful tagging\n- Show error message if tagging fails\n- Disable button if conversation already has tags (or show 'Re-tag' option)\n\n**Implementation Notes:**\n- Endpoint should check if OPENAI_API_KEY is configured\n- Use existing TaggingPipeline from catsyphon.tagging\n- Reconstruct ParsedConversation from database conversation for tagging\n- Cache results to avoid re-tagging identical conversations\n- Consider adding a tagging status indicator (pending/complete/failed)\n\n**Files to Modify:**\n- backend/src/catsyphon/api/routes/conversations.py (new endpoint)\n- backend/src/catsyphon/api/schemas.py (response schema)\n- frontend/src/lib/api.ts (API client method)\n- frontend/src/pages/ConversationDetail.tsx (UI button)\n- backend/tests/test_api_conversations.py (endpoint tests)\n- frontend/src/pages/ConversationDetail.test.tsx (button tests)","status":"open","priority":2,"issue_type":"feature","created_at":"2025-11-12T23:44:20.794233-05:00","updated_at":"2025-11-12T23:44:20.794233-05:00","source_repo":"."}
{"id":"catsyphon-p8s","content_hash":"c294d29925d104c5e7b9c75929e25628c0937815ca2a8f680ad3dff22c814ca7","title":"Add integration tests for watch daemon (0% coverage, 236 lines)","description":"Add comprehensive tests for watch.py covering:\n- File detection and processing with temp directories ✅\n- Retry queue with exponential backoff ✅\n- Daemon lifecycle (start/stop/status) ⚠️ Partially covered\n- PID file handling and signal handling ⚠️ Needs improvement\n- Mock file system events with watchdog ✅\n\n**Current Coverage**: 92% (218/236 lines covered)\n**Test Count**: 38 tests passing\n\n**Remaining Gaps**:\n- Lines 257-269: Daemon signal handling\n- Lines 294, 298-301, 311: Edge cases in file processing\n- Lines 405-407, 452-454: PID file edge cases\n\n**Status**: Core functionality fully tested. Optional: Add daemon lifecycle tests for 95%+ coverage.","status":"open","priority":2,"issue_type":"task","created_at":"2025-11-12T22:20:06.501085-05:00","updated_at":"2025-11-13T01:15:01.826499-05:00","source_repo":"."}
{"id":"catsyphon-s89","content_hash":"f4671252af40f6a51115985ffa8291a16aea67f67346dbe2a74b8d1f35fa0531","title":"Implement backend startup dependency validation and readiness probes","description":"","status":"closed","priority":1,"issue_type":"task","created_at":"2025-11-08T00:18:24.474322-05:00","updated_at":"2025-11-08T00:18:42.368256-05:00","closed_at":"2025-11-08T00:18:42.368256-05:00","source_repo":"."}
{"id":"catsyphon-skm","content_hash":"552219226eee963fbfc8a1379221be6cfa3a395c89f3ca75c69bc74b9bd65d35","title":"Write frontend tests for Ingestion page","description":"","status":"open","priority":2,"issue_type":"task","created_at":"2025-11-14T20:06:05.731144-05:00","updated_at":"2025-11-14T20:06:05.731144-05:00","source_repo":"."}
{"id":"catsyphon-t0a","content_hash":"97cab753417bd02e29549c5a878828c84f01dc68e3f24795dfdfe3145be9be57","title":"Add conversation repository complex query tests (currently 76%)","description":"Complete test coverage for conversation repository complex queries:\n- Advanced filtering edge cases (lines 221-255)\n- Date range boundary conditions\n- Pagination edge cases\n- Statistics aggregation with various filters\nTarget: 90%+ coverage","status":"open","priority":2,"issue_type":"task","created_at":"2025-11-12T22:20:40.126931-05:00","updated_at":"2025-11-12T22:20:40.126931-05:00","source_repo":"."}
{"id":"catsyphon-udu","content_hash":"2fe0b0231bb81bf12e230ded306a998c07e742c1879265c512c87d164cfad76e","title":"Implement Watch Directories tab with CRUD","description":"","status":"open","priority":1,"issue_type":"task","created_at":"2025-11-14T20:05:37.564099-05:00","updated_at":"2025-11-14T20:05:37.564099-05:00","source_repo":"."}
{"id":"catsyphon-y0g","content_hash":"903de2c038619a73fd85414b26a32cff55795b3e52dc0c2448196575d024a017","title":"task","description":"Create ConversationList page with filter bar (7 filters: project, developer, agent_type, status, date range, success). Implement paginated table with columns: start_time, project, developer, agent_type, message_count, status. Add click navigation to detail page. Include loading/error states. Responsive design.","status":"closed","priority":2,"issue_type":"task","created_at":"2025-11-07T23:35:25.599817-05:00","updated_at":"2025-11-07T23:46:06.413733-05:00","closed_at":"2025-11-07T23:46:06.413733-05:00","source_repo":"."}
{"id":"catsyphon-y8d","content_hash":"34e7f501e30b30d10ffe6e54044720da2be33973e6350edf003a6e20cda0fdb2","title":"Implement live directory watching for automatic log ingestion","description":"Watch directory (e.g. ~/.claude/projects/) for new/modified .jsonl files and automatically ingest conversation logs in real-time. Features: file hash deduplication, catsyphon watch CLI command, debouncing for rapid changes, graceful error handling, frontend polling updates. Implementation: Add watchdog library, create DirectoryWatcher class, add file_hash tracking to RawLog table, implement watch command with rich CLI output. Estimated: 3-4 days (MVP in 2 days).","status":"closed","priority":1,"issue_type":"task","created_at":"2025-11-08T12:12:50.748902-05:00","updated_at":"2025-11-12T14:17:01.791125-05:00","closed_at":"2025-11-12T14:17:01.791125-05:00","source_repo":"."}
{"id":"catsyphon-z9q","content_hash":"8f7b8f85b3cbeef7963c012d689a7516c550ddea36fc29730fd8f8e0c47bad37","title":"Core Tagging Module: Base protocol, LLM tagger, cache, rule tagger, pipeline","description":"","status":"closed","priority":1,"issue_type":"task","created_at":"2025-11-12T21:47:53.848345-05:00","updated_at":"2025-11-12T21:51:36.022581-05:00","closed_at":"2025-11-12T21:51:36.022581-05:00","source_repo":".","dependencies":[{"issue_id":"catsyphon-z9q","depends_on_id":"catsyphon-11","type":"blocks","created_at":"2025-11-12T21:47:53.849979-05:00","created_by":"kulesh"}]}
{"id":"catsyphon-zug","content_hash":"4ebe8140590826560f4745abfac90deb100be078be679b12ba728d1c4e35e253","title":"task","description":"Create Dashboard page at / route with overview metrics cards (totals), status breakdown visualization, agent type breakdown, success rate display, and recent activity (last 7 days). Add links to conversations list. Visual clarity with cards/charts.","status":"closed","priority":2,"issue_type":"task","created_at":"2025-11-07T23:35:37.063068-05:00","updated_at":"2025-11-07T23:49:38.217348-05:00","closed_at":"2025-11-07T23:49:38.217348-05:00","source_repo":"."}
