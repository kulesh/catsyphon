{"id":"catsyphon-0xh","content_hash":"ce83799c4f2263d9d29d1d3ea1718e65f43bb0c6f6f60a33944f7ba9ac5368cd","title":"Add startup validation tests (currently 75% coverage)","description":"Complete test coverage for startup.py validation logic:\n- Database migration status checks (lines 93-107)\n- Connection pool validation (lines 125-170)\n- Health check initialization (lines 289-290)\n- Mock database connections and test error scenarios\nTarget: 90%+ coverage","status":"open","priority":1,"issue_type":"task","created_at":"2025-11-12T22:20:28.570103-05:00","updated_at":"2025-11-12T22:20:28.570103-05:00","source_repo":"."}
{"id":"catsyphon-1","content_hash":"00c2a3be2903eadbd72a6e28d7a72c8941a7fa5e9f6d20839f5853314e82f6a9","title":"Phase 1: Data Foundation \u0026 Processing Pipeline","description":"","status":"open","priority":1,"issue_type":"epic","created_at":"2025-10-30T11:31:10.999474-04:00","updated_at":"2025-10-30T11:31:10.999474-04:00","source_repo":"."}
{"id":"catsyphon-10","content_hash":"db3fadd8f90387742d94df47037b041f7c3ff52d3029ec135a17c4887f9f7802","title":"Implement Claude Code log parser with plugin architecture","description":"","status":"closed","priority":1,"issue_type":"task","created_at":"2025-10-30T12:13:03.645803-04:00","updated_at":"2025-11-02T22:06:41.581919-05:00","closed_at":"2025-11-02T22:06:41.581919-05:00","source_repo":".","dependencies":[{"issue_id":"catsyphon-10","depends_on_id":"catsyphon-1","type":"blocks","created_at":"2025-10-30T12:13:03.646529-04:00","created_by":"kulesh"}]}
{"id":"catsyphon-11","content_hash":"69761fdf64f6e8b948deffde918c9866619e2d6109691685a21be5003b35b1f1","title":"Implement LLM-based tagging engine using OpenAI gpt-4o-mini","description":"","status":"closed","priority":1,"issue_type":"task","created_at":"2025-10-30T12:13:03.658088-04:00","updated_at":"2025-11-14T15:12:05.755009-05:00","closed_at":"2025-11-12T22:07:38.441288-05:00","source_repo":".","dependencies":[{"issue_id":"catsyphon-11","depends_on_id":"catsyphon-1","type":"blocks","created_at":"2025-10-30T12:13:03.658679-04:00","created_by":"kulesh"}]}
{"id":"catsyphon-12","content_hash":"9612c720e58eca7586be6455ccf39f83122a86b3642f05b294bd4e8971cc69be","title":"Build data ingestion pipeline with CLI commands","description":"CLI ingest command fully implemented with parser integration. Supports single file and batch directory processing with --dry-run mode. Complete database storage integration creates Projects, Developers, Conversations, Epochs, Messages, FilesTouched, and RawLog records. All repositories implemented and comprehensively tested.","status":"closed","priority":1,"issue_type":"task","created_at":"2025-10-30T12:13:03.670278-04:00","updated_at":"2025-11-08T12:12:35.979825-05:00","closed_at":"2025-11-08T12:12:35.979825-05:00","source_repo":".","dependencies":[{"issue_id":"catsyphon-12","depends_on_id":"catsyphon-1","type":"blocks","created_at":"2025-10-30T12:13:03.670842-04:00","created_by":"kulesh"}]}
{"id":"catsyphon-13","content_hash":"b7cc511e8e62c34bb585a1211353febc5636d00efdcf18b52ab706c2155672f5","title":"Implement FastAPI endpoints for querying conversations","description":"API endpoints completed and tested. Working endpoints: conversations (list, detail, messages), stats/overview, projects, developers","status":"closed","priority":1,"issue_type":"task","created_at":"2025-10-30T12:13:09.886893-04:00","updated_at":"2025-11-03T00:54:39.904302-05:00","closed_at":"2025-11-03T00:54:39.904302-05:00","source_repo":".","dependencies":[{"issue_id":"catsyphon-13","depends_on_id":"catsyphon-1","type":"blocks","created_at":"2025-10-30T12:13:09.887575-04:00","created_by":"kulesh"}]}
{"id":"catsyphon-13u","content_hash":"5bb350b02a2ad85d9f03cdbf5a3c24f64f60eb656c4eb90a771f46241e520a74","title":"9 Ingestion.test.tsx pagination/empty state tests failing due to timing issues","description":"After comprehensive test cleanup and fixes, 9 tests remain failing (95.2% pass rate - 200/210 passing).\n\n**Failing Tests:**\n- 7 pagination tests: reset page, disable prev/next buttons, navigate prev/next, trigger queries, update on filter change\n- 2 empty state tests: no results with filters, no data at all\n\n**Root Cause:**\nTests wait for tab content to render, then check for job file path '/path/to/file.jsonl' to confirm jobs loaded before checking pagination. The waitFor() times out, suggesting:\n1. Jobs not rendering due to async timing issues\n2. Component displays file path differently than expected\n3. Mock data structure mismatch with component expectations\n\n**Context:**\n- File: frontend/src/pages/Ingestion.test.tsx\n- Successfully fixed 35 other tests (removed 15 low-value, fixed 20 selector/timing issues)\n- All other Ingestion page tests passing (Bulk Upload, Watch Directories, Live Activity, History filters)\n\n**Next Steps:**\n1. Debug actual DOM structure when jobs render\n2. Check if IngestionJobCard displays file_path as expected\n3. Consider alternative wait strategy (wait for stats update, job count, etc.)\n4. May need to add data-testid attributes to job cards for reliable selection","status":"open","priority":2,"issue_type":"bug","created_at":"2025-11-15T13:23:02.819353-05:00","updated_at":"2025-11-15T13:23:02.819353-05:00","source_repo":"."}
{"id":"catsyphon-14","content_hash":"f1bdedaac16d01a3d6e448b7519688404b00dd38383dc9b0f6d84abc317dbdd9","title":"Setup frontend skeleton (Vite + React + TypeScript + Tailwind v4)","description":"Frontend complete\\! All 5 subtasks closed (h4b, y0g, nuj, zug, 5py). 3 pages built (Dashboard, List, Detail), full API integration, responsive design, comprehensive testing checklist created. Build: 358kb bundled, 109kb gzipped. See FRONTEND_COMPLETE.md for details.","status":"closed","priority":2,"issue_type":"task","created_at":"2025-10-30T12:13:09.899203-04:00","updated_at":"2025-11-07T23:52:22.506232-05:00","closed_at":"2025-11-07T23:52:22.506232-05:00","source_repo":".","dependencies":[{"issue_id":"catsyphon-14","depends_on_id":"catsyphon-1","type":"blocks","created_at":"2025-10-30T12:13:09.899773-04:00","created_by":"kulesh"}]}
{"id":"catsyphon-15","content_hash":"532839aa1cf0f81afbe6c113218688a81b667e1f542f66f06b6879a50b9be716","title":"Implement database connection and repository layer","description":"","status":"closed","priority":1,"issue_type":"task","created_at":"2025-10-30T12:13:15.765424-04:00","updated_at":"2025-11-01T17:22:10.263855-04:00","closed_at":"2025-11-01T17:22:10.263855-04:00","source_repo":".","dependencies":[{"issue_id":"catsyphon-15","depends_on_id":"catsyphon-1","type":"blocks","created_at":"2025-10-30T12:13:15.766034-04:00","created_by":"kulesh"}]}
{"id":"catsyphon-16","content_hash":"aaf2e5fc6541bf4ae01c2e243bb1c14a6f164843b67b361c252e4c46df2a3764","title":"Setup testing infrastructure and write initial tests","description":"","status":"closed","priority":2,"issue_type":"task","created_at":"2025-10-30T12:13:15.777923-04:00","updated_at":"2025-11-02T22:06:50.594073-05:00","closed_at":"2025-11-02T22:06:50.594073-05:00","source_repo":".","dependencies":[{"issue_id":"catsyphon-16","depends_on_id":"catsyphon-1","type":"blocks","created_at":"2025-10-30T12:13:15.778499-04:00","created_by":"kulesh"}]}
{"id":"catsyphon-17b","content_hash":"e0ffa2018e5a8657563521327c6e54c20d6f4bd34bc97f834575c1986bdec3c0","title":"Update navigation to use Ingestion page","description":"","status":"closed","priority":1,"issue_type":"task","created_at":"2025-11-14T20:05:54.466511-05:00","updated_at":"2025-11-14T20:21:58.422785-05:00","closed_at":"2025-11-14T20:21:58.422785-05:00","source_repo":"."}
{"id":"catsyphon-1de","content_hash":"8bce1109b6fde1b0a08036d7c58cc54d7fdd8ad42afee3bf7ff9a0e0859f818a","title":"Unified Ingestion Management UI","description":"","status":"closed","priority":1,"issue_type":"feature","created_at":"2025-11-14T20:05:03.599836-05:00","updated_at":"2025-11-14T20:22:04.040161-05:00","closed_at":"2025-11-14T20:22:04.040161-05:00","source_repo":"."}
{"id":"catsyphon-1or","content_hash":"80ce6fe41ef56f4032ea955c570c39d28edfbfddf5a1438b13550d0669f76cc1","title":"Add file upload functionality to web UI","description":"","status":"closed","priority":1,"issue_type":"task","created_at":"2025-11-08T00:43:35.965735-05:00","updated_at":"2025-11-08T00:43:59.064342-05:00","closed_at":"2025-11-08T00:43:59.064342-05:00","source_repo":"."}
{"id":"catsyphon-1zu","content_hash":"8869a6feef3f7ef2ae62579df444779f8213c81902ba8eb3e67891f0917c7684","title":"Create base Ingestion page with tab structure","description":"","status":"closed","priority":1,"issue_type":"task","created_at":"2025-11-14T20:05:26.321641-05:00","updated_at":"2025-11-14T20:10:23.337902-05:00","closed_at":"2025-11-14T20:10:23.337902-05:00","source_repo":"."}
{"id":"catsyphon-2","content_hash":"9fe588a37d96756f6faa222b2154dfa139edc7f1b6b0fe2b50f4bc1a92147d3c","title":"Design and implement PostgreSQL database schema","description":"","status":"closed","priority":1,"issue_type":"task","created_at":"2025-10-30T11:31:17.092932-04:00","updated_at":"2025-10-30T12:14:07.007455-04:00","closed_at":"2025-10-30T12:14:07.007455-04:00","source_repo":".","dependencies":[{"issue_id":"catsyphon-2","depends_on_id":"catsyphon-1","type":"blocks","created_at":"2025-10-30T11:31:17.093616-04:00","created_by":"kulesh"}]}
{"id":"catsyphon-2m1","content_hash":"e1cb16a506b3e9e8cdfbd2982eeb93e14790e9c6e592ee2335a46b20ccab2552","title":"Add database indexes for conversation queries","description":"Add database indexes to improve query performance for conversation list and filters\n\n**Current Issue:**\n- No indexes on conversations table for commonly filtered/sorted columns\n- All filtered queries do full table scans\n- Performance degrades as conversation count grows\n\n**Indexes Needed:**\n1. conversations.project_id (foreign key, frequently filtered)\n2. conversations.developer_id (foreign key, frequently filtered)\n3. conversations.agent_type (varchar, frequently filtered)\n4. conversations.status (varchar, frequently filtered)\n5. conversations.success (boolean, frequently filtered)\n6. conversations.start_time (timestamp, sorted by default)\n7. conversations.updated_at (timestamp, used for sorting)\n8. Composite index on (project_id, start_time) for common project queries\n\n**Implementation:**\n1. Create Alembic migration with index definitions\n2. Add index=True to SQLAlchemy model columns\n3. Test query performance before/after with EXPLAIN ANALYZE\n4. Consider partial indexes for common filters (e.g., status='in_progress')\n\n**Files to Modify:**\n- backend/src/catsyphon/models/db.py (add index=True)\n- Create new Alembic migration\n- backend/tests/test_db/test_performance.py (optional performance tests)\n\n**Testing:**\n- Run migration on development database\n- Use psql EXPLAIN ANALYZE to verify index usage\n- Test with large dataset (1000+ conversations)\n- Verify no query regression","status":"closed","priority":2,"issue_type":"task","created_at":"2025-11-12T23:48:48.016229-05:00","updated_at":"2025-11-14T23:03:30.401349-05:00","closed_at":"2025-11-14T23:03:30.401349-05:00","source_repo":"."}
{"id":"catsyphon-3dr","content_hash":"10fb81c14526b55dcbf8a684709bc4dde096d5754e4585873858b27559c3e9e6","title":"Epic 5: Security \u0026 Sandboxing","description":"Implement security features including plugin sandboxing, authentication hardening, input validation, and rate limiting. Ensure CatSyphon is production-ready with defense-in-depth security measures.","status":"open","priority":1,"issue_type":"epic","created_at":"2025-11-16T18:32:45.210418-05:00","updated_at":"2025-11-16T18:32:45.210418-05:00","source_repo":".","labels":["security sandboxing modernization"]}
{"id":"catsyphon-3qj","content_hash":"ba9eefce5b5caf0603073721a89d3cc1122aa54379188e0e1a8567cd6dc528fd","title":"Add API client functions for ingestion endpoints","description":"","status":"closed","priority":1,"issue_type":"task","created_at":"2025-11-14T20:05:20.690023-05:00","updated_at":"2025-11-14T20:07:55.4754-05:00","closed_at":"2025-11-14T20:07:55.4754-05:00","source_repo":"."}
{"id":"catsyphon-3qz","content_hash":"d32d6053c97a89ddb88c84e0a6c4a30ae5452dfa5663191165523bf1226f607a","title":"Epic 1: Parser Plugin System","description":"Enable community-contributed parsers for multiple AI agents (Cursor, Copilot, Gemini, Devin, etc.). Extract parser capabilities, build plugin system with security sandboxing, implement reference parsers. Estimate: 3 weeks","notes":"Epic 1 core implementation complete. Parser plugin system operational with ParserMetadata protocol, registry pattern, incremental parsing (10x-106x faster), plugin discovery, security sandbox, watch daemon integration, and SDK docs. Optional P2 tasks (Cursor/Copilot parsers) deferred - system extensible for community contributions.","status":"closed","priority":0,"issue_type":"epic","created_at":"2025-11-16T11:49:07.333422-05:00","updated_at":"2025-11-16T19:36:05.15118-05:00","closed_at":"2025-11-16T19:36:05.151182-05:00","source_repo":".","labels":["modernization","plugin-system"]}
{"id":"catsyphon-3qz.1","content_hash":"2850120ea1356b4cdb95ef7a486b755daeaea2b7322a7285a3222bc7520013a6","title":"Define ParserMetadata Protocol","description":"Create ParserMetadata dataclass (name, agent_type, supported_extensions, supported_formats, supports_incremental, version). Update ConversationParser protocol to include metadata property. Add ParserCapabilities enum. Files: backend/src/catsyphon/parsers/base.py, new metadata.py. Estimate: 2 days","status":"closed","priority":1,"issue_type":"task","created_at":"2025-11-16T11:49:35.633771-05:00","updated_at":"2025-11-16T18:25:37.532491-05:00","closed_at":"2025-11-16T18:25:37.532491-05:00","source_repo":".","labels":["modernization","parser","protocol"]}
{"id":"catsyphon-3qz.2","content_hash":"c12ba1dc1a38319ffd7e0d4c5294981c278064ff5b9873990356db3f63dca596","title":"Extract IncrementalParser Protocol","description":"Create separate IncrementalParser protocol with parse_incremental() method. Update ClaudeCodeParser to implement both protocols. Add registry.find_incremental_parser(). Files: backend/src/catsyphon/parsers/base.py, registry.py. Estimate: 2 days","status":"closed","priority":1,"issue_type":"task","created_at":"2025-11-16T11:49:41.54648-05:00","updated_at":"2025-11-16T18:25:48.534248-05:00","closed_at":"2025-11-16T18:25:48.534248-05:00","source_repo":".","labels":["incremental","modernization","parser"]}
{"id":"catsyphon-3qz.3","content_hash":"d3d3f2d7fcb06aad509bede7e13dbea2bf910990d60d5abfe6dff2b80f3488e6","title":"Plugin Discovery System","description":"Implement plugin directory scanning (~/.catsyphon/plugins/, .catsyphon/parsers/). Create PluginLoader with security sandboxing. Add plugin.json manifest schema (metadata, dependencies, permissions). Files: new backend/src/catsyphon/plugins/loader.py, manifest.py. Estimate: 3 days","status":"closed","priority":1,"issue_type":"task","created_at":"2025-11-16T11:49:47.451791-05:00","updated_at":"2025-11-16T18:25:59.331945-05:00","closed_at":"2025-11-16T18:25:59.331945-05:00","source_repo":".","labels":["modernization","plugin","security"]}
{"id":"catsyphon-3qz.4","content_hash":"d2f612c72a275467aa5fa5ea10c2b84145095d03a94e28a0cdab899589764326","title":"Update Watch Daemon to Use Registry","description":"Remove hardcoded ClaudeCodeParser() from watch.py:394. Use registry.find_incremental_parser() instead. Add fallback to standard registry.find_parser(). Files: backend/src/catsyphon/watch.py. Estimate: 1 day","status":"closed","priority":2,"issue_type":"task","created_at":"2025-11-16T11:49:53.341174-05:00","updated_at":"2025-11-16T18:34:57.158321-05:00","closed_at":"2025-11-16T18:34:57.158321-05:00","source_repo":".","labels":["modernization","watch-daemon"]}
{"id":"catsyphon-3qz.5","content_hash":"16ca8893b085fbee191582620e11dac6349eb7d821b2ca6aacbd29016eb8c6f8","title":"Build Cursor Parser (SQLite)","description":"Implement CursorParser for SQLite database format. Support incremental parsing via SQLite WAL. Map Cursor schema to ParsedConversation. Files: new backend/src/catsyphon/parsers/cursor.py, tests/test_parsers/test_cursor.py. Estimate: 4 days","status":"open","priority":2,"issue_type":"task","created_at":"2025-11-16T11:49:59.23025-05:00","updated_at":"2025-11-16T11:49:59.23025-05:00","source_repo":".","labels":["cursor","modernization","parser"]}
{"id":"catsyphon-3qz.6","content_hash":"cf8cb6195da36b8c9f8c51304b3be1d50510e0fe3b8a14cfa1a8200acf3fd45b","title":"Build GitHub Copilot Parser (JSON)","description":"Implement CopilotParser for JSON log format. Handle multi-file conversation logs. Support incremental parsing. Files: new backend/src/catsyphon/parsers/copilot.py, tests/test_parsers/test_copilot.py. Estimate: 3 days","status":"open","priority":2,"issue_type":"task","created_at":"2025-11-16T11:50:05.132109-05:00","updated_at":"2025-11-16T11:50:05.132109-05:00","source_repo":".","labels":["copilot","modernization","parser"]}
{"id":"catsyphon-3qz.7","content_hash":"630f6956f812cb2bd76f6b013ab0a06f137515152e65db7a3a4f9656fa5a7a6e","title":"Plugin SDK Documentation","description":"Write developer guide for creating parsers. Document ParserMetadata fields and protocols. Create example plugin template. Add security best practices. Files: new docs/plugin-development.md, examples/parser-plugin-template/. Estimate: 2 days","status":"closed","priority":3,"issue_type":"task","created_at":"2025-11-16T11:50:11.032012-05:00","updated_at":"2025-11-16T18:35:07.692695-05:00","closed_at":"2025-11-16T18:35:07.692695-05:00","source_repo":".","labels":["documentation","modernization"]}
{"id":"catsyphon-3qz.8","content_hash":"b6e4ce80bebd3d544072c2b10bb7aea0628711fd74c1308206697a6f2af054e6","title":"Plugin Security Sandbox","description":"Implement restricted file access (read-only to log files). Block network access in plugins. Add timeout limits for parser execution. Create plugin permission model. Files: new backend/src/catsyphon/plugins/sandbox.py. Estimate: 3 days","status":"closed","priority":1,"issue_type":"task","created_at":"2025-11-16T11:50:16.958777-05:00","updated_at":"2025-11-16T18:33:29.936297-05:00","closed_at":"2025-11-16T18:33:29.936297-05:00","source_repo":".","labels":["modernization","plugin","security"]}
{"id":"catsyphon-4","content_hash":"689255fd990c25b9b523e6e4bf2bef3182c9fb87298df33c5e2330723edfa26e","title":"Implement LLM-based tagging engine (sentiment, intent, outcome)","description":"","status":"closed","priority":1,"issue_type":"task","created_at":"2025-10-30T11:31:23.793005-04:00","updated_at":"2025-10-30T12:14:07.031597-04:00","closed_at":"2025-10-30T12:14:07.031597-04:00","source_repo":".","dependencies":[{"issue_id":"catsyphon-4","depends_on_id":"catsyphon-1","type":"blocks","created_at":"2025-10-30T11:31:23.793578-04:00","created_by":"kulesh"}]}
{"id":"catsyphon-41p","content_hash":"e0c4ba9133b88622257c021ac509000a557e62e8ed6cb8b71806a60d805b6963","title":"Fix watch daemon creating duplicate conversations for live sessions","description":"Watch daemon creates new conversation on every file change, not recognizing ongoing sessions\n\n**Critical Bug:** Live Claude Code sessions append to .jsonl files continuously. Watch daemon treats \neach file modification as a NEW conversation, creating 800+ duplicate database records for one session\\!\n\n**Root Cause:**\nDeduplication in ingestion.py only checks file_hash:\n```python\nfile_hash = calculate_file_hash(file_path)\nif raw_log_repo.exists_by_file_hash(file_hash):\n    skip_duplicates  # ❌ Hash changes with every message append\\!\n```\n\n**Evidence:**\n- Session 6d241b34-b9bc-4582-bdd9-225b0f2309c2: 805 conversations from ONE file\n- Time span: 207 minutes = ~1 conversation every 15 seconds\n- 20 files in watch dir, but 835 conversations in DB (41x multiplication\\!)\n\n**Impact:**\n- Massive database bloat (800+ duplicate records per session)\n- Incorrect analytics (one session counted 800 times)\n- Performance degradation (unnecessary ingestion processing)\n\n**Solution:**\nAdd session ID deduplication alongside file hash:\n\n1. Parse session_id from file BEFORE full ingestion\n2. Check if conversation with session_id already exists\n3. If exists AND file is being watched live:\n   - Option A: Skip ingestion (wait for session to complete)\n   - Option B: Update existing conversation (append new messages)\n   - Option C: Delete old + create new (replace with latest state)\n4. If exists AND file hash matches: Skip (true duplicate)\n5. If not exists: Create new conversation\n\n**Recommended Approach (Option A):**\nSkip live files, only ingest completed sessions:\n- Add debounce: Wait for file to be stable (no changes for X minutes)\n- Or: Only ingest files older than X minutes\n- Prevents partial session ingestion\n\n**Alternative (Option C - Simpler):**\nUpdate existing conversation with latest data:\n- Find conversation by session_id\n- Delete old messages/epochs/files\n- Re-ingest with updated data\n- Maintain conversation ID (preserve references)\n\n**Files to Modify:**\n- backend/src/catsyphon/pipeline/ingestion.py (add session_id check)\n- backend/src/catsyphon/db/repositories/conversation.py (add get_by_session_id)\n- backend/src/catsyphon/watch.py (add file stability check/debounce)\n- backend/tests/test_pipeline_ingestion.py (test deduplication)\n\n**Testing:**\n- Simulate live file: append messages repeatedly, verify single conversation\n- Test with completed files: verify normal ingestion\n- Test manual re-ingest: verify skip/update behavior\n- Cleanup script: Deduplicate existing database records by session_id\n\n**Migration/Cleanup:**\nCreate script to clean up existing duplicates:\n```sql\n-- Keep only the latest conversation per session_id\nDELETE FROM conversations \nWHERE id NOT IN (\n    SELECT MAX(id) \n    FROM conversations \n    GROUP BY metadata-\u003e\u003e'session_id'\n);\n```","status":"closed","priority":0,"issue_type":"bug","created_at":"2025-11-13T00:26:58.020604-05:00","updated_at":"2025-11-13T01:13:54.228548-05:00","closed_at":"2025-11-13T01:13:54.228548-05:00","source_repo":"."}
{"id":"catsyphon-43z","content_hash":"7749918e902da4f153e70362a4651b274d6df495f5d82f7b0e4d935029035919","title":"Fix Pydantic deprecation warnings (Config → ConfigDict)","description":"Update Pydantic models to use ConfigDict instead of Config class:\n- Update all model classes in api/schemas.py\n- Migrate from 'class Config' pattern to 'model_config = ConfigDict(...)'\n- Ensures compatibility with Pydantic V3\n- Currently 8 deprecation warnings in test output","status":"open","priority":3,"issue_type":"task","created_at":"2025-11-12T22:20:52.375926-05:00","updated_at":"2025-11-12T22:20:52.375926-05:00","source_repo":"."}
{"id":"catsyphon-4rd","content_hash":"21e4fcfe901cd4051416cbb69efdaadc1d7e765b23c50fc941503b1fca368a9b","title":"Plugin Security Sandbox","description":"Implement plugin security sandbox with restricted execution environment. \n\n**Security Controls:**\n- Restricted file access (read-only to log files)\n- Block network access in plugins\n- Timeout limits for parser execution\n- Plugin permission model and manifest validation\n\n**Files:** \n- backend/src/catsyphon/plugins/sandbox.py\n- Update loader.py to use sandbox\n\n**Parent Epic:** catsyphon-3dr (Epic 5: Security \u0026 Sandboxing)\n**Moved from:** catsyphon-3qz.8 (originally in Epic 1)\n**Estimate:** 3 days","status":"open","priority":1,"issue_type":"task","created_at":"2025-11-16T18:33:18.673662-05:00","updated_at":"2025-11-16T18:33:18.673662-05:00","external_ref":"catsyphon-3dr","source_repo":"."}
{"id":"catsyphon-4tx","content_hash":"23db0e422e0065b1e44a2be9e2c6f30a8706fa27d2a6df0da81baa7761ae21f2","title":"Add upload progress feedback for multiple files","description":"","status":"closed","priority":2,"issue_type":"task","created_at":"2025-11-08T01:10:59.124844-05:00","updated_at":"2025-11-08T01:11:22.143887-05:00","closed_at":"2025-11-08T01:11:22.143887-05:00","source_repo":"."}
{"id":"catsyphon-5","content_hash":"0d270cc5394daa1aae827481f5d4039b990178cd309b2f88a053ec17de3cdfa2","title":"Build data ingestion pipeline CLI tool","description":"","status":"closed","priority":1,"issue_type":"task","created_at":"2025-10-30T11:31:23.80541-04:00","updated_at":"2025-10-30T12:14:07.043154-04:00","closed_at":"2025-10-30T12:14:07.043154-04:00","source_repo":".","dependencies":[{"issue_id":"catsyphon-5","depends_on_id":"catsyphon-1","type":"blocks","created_at":"2025-10-30T11:31:23.805973-04:00","created_by":"kulesh"}]}
{"id":"catsyphon-5ce","content_hash":"7915be79ce358a39a3d7fc1a2c53c22808df9c26a8be0df60a5336769646d9ae","title":"Architecture Documentation","description":"Document new plugin system architecture. Document collector protocol and authentication flow. Document event system (Redis pub/sub, SSE, WebSocket). Include sequence diagrams and API reference. Files: new docs/architecture-v2.md. Estimate: 2 days","status":"open","priority":3,"issue_type":"task","created_at":"2025-11-16T11:54:59.600854-05:00","updated_at":"2025-11-16T11:54:59.600854-05:00","source_repo":".","labels":["architecture","documentation","modernization"]}
{"id":"catsyphon-5ir","content_hash":"4c3f76dec169e900b018353312bf68adbb401052c4eea4e16d348d4b48b51fa0","title":"Fix ConversationList caching strategy for instant rendering","description":"ConversationList page takes too long to load due to aggressive refetch behavior\n\n**Current Behavior:**\n- staleTime: 10 seconds (data considered stale immediately)\n- refetchInterval: 15 seconds (constant background refetching)\n- Navigation always shows loading state instead of cached data\n\n**Expected Behavior:**\n- Show cached data instantly (stale-while-revalidate pattern)\n- Refetch in background to update\n- Only show loading on first visit or explicit refresh\n\n**Solution:**\n1. Increase staleTime for list queries (e.g., 5 minutes)\n2. Keep refetchInterval but only for Dashboard (remove from list page)\n3. Use placeholderData to show cached results while refetching\n4. Add refetchOnMount: false for list page to prevent unnecessary refetches\n\n**Files to Modify:**\n- frontend/src/lib/queryClient.ts (adjust global defaults)\n- frontend/src/pages/ConversationList.tsx (override query options)\n- Consider per-query configuration instead of global aggressive refetch\n\n**Testing:**\n- Navigate to /conversations multiple times - should be instant after first load\n- Wait 15+ seconds on page - should see background update without loading state\n- Apply filters - should refetch immediately (fresh data needed)\n- Use React Query DevTools to verify cache behavior","status":"closed","priority":1,"issue_type":"bug","created_at":"2025-11-12T23:48:31.846511-05:00","updated_at":"2025-11-12T23:53:47.548188-05:00","closed_at":"2025-11-12T23:53:47.548188-05:00","source_repo":"."}
{"id":"catsyphon-5m9","content_hash":"c4b937c69b4849abb9c41e90e4f0dd3b37c846a9150e08c66f6cda8fe3b53b45","title":"Implement incremental updates for live conversation files","description":"Phase 2 optimization: Append new messages without full reparse\n\n**Blocks on:** catsyphon-41p\n\n**Goal:** Implement efficient incremental updates using only new file content.\n\n**Current State (Phase 1):**\n- Full reparse on every file change (933 messages parsed every time)\n- Delete + recreate all children\n- Correct but inefficient\n\n**Phase 2:** Implement update_mode='append':\n- Track last processed offset\n- Parse only NEW lines\n- INSERT new messages (no DELETE)\n- 10x performance improvement\n\n**Files:** ingestion.py, watch.py, parsers/utils.py, tests","status":"closed","priority":2,"issue_type":"feature","created_at":"2025-11-13T00:42:21.23801-05:00","updated_at":"2025-11-14T22:54:06.764576-05:00","closed_at":"2025-11-14T22:54:06.764576-05:00","source_repo":"."}
{"id":"catsyphon-5py","content_hash":"9ad569f55572828191a81f698516dd98aa5d46d4afa491a10d8b5d9bbe0c72f8","title":"task","description":"Test complete workflow: Dashboard → List (with filters) → Detail → Back. Verify all API integrations work. Fix styling issues. Test responsive design on mobile. Verify error handling and loading states. Ensure no console errors.","status":"closed","priority":2,"issue_type":"task","created_at":"2025-11-07T23:35:42.822367-05:00","updated_at":"2025-11-07T23:52:10.73795-05:00","closed_at":"2025-11-07T23:52:10.73795-05:00","source_repo":"."}
{"id":"catsyphon-6","content_hash":"39bb7442c6d484d4dd2e2ab5bd6e24bd4266ed6a4a88c1ba4c301712b5f8a8e3","title":"Create basic query API for accessing conversation data","description":"","status":"closed","priority":1,"issue_type":"task","created_at":"2025-10-30T11:31:23.817594-04:00","updated_at":"2025-10-30T12:14:07.054558-04:00","closed_at":"2025-10-30T12:14:07.054558-04:00","source_repo":".","dependencies":[{"issue_id":"catsyphon-6","depends_on_id":"catsyphon-1","type":"blocks","created_at":"2025-10-30T11:31:23.818123-04:00","created_by":"kulesh"}]}
{"id":"catsyphon-6al","content_hash":"c8ebfa2cf9ad570986c5105a9ff558ca42904d45c9b9faef2bf99f7c3f6617b2","title":"Epic 4: Scalability Enhancements","description":"Support 50-500 developers with 100-1000 watched directories. Migrate to async daemon, tune connection pooling, add parallel processing, implement Redis caching, support read replicas, and document horizontal scaling. Estimate: 2 weeks","status":"open","priority":1,"issue_type":"epic","created_at":"2025-11-16T11:53:24.547507-05:00","updated_at":"2025-11-16T11:53:24.547507-05:00","source_repo":".","labels":["modernization","performance","scalability"]}
{"id":"catsyphon-6al.1","content_hash":"0845e960b3d624ad22c41d566ac6c9e756273f19e758cd49c1afe7151f3ed46d","title":"Async Watch Daemon Migration","description":"Replace watchdog.observers.Observer with aionotify (Linux) or async watchdog. Convert WatchHandler to async/await. Use asyncio.gather() for parallel file processing. Files: backend/src/catsyphon/watch.py. Estimate: 3 days","status":"open","priority":1,"issue_type":"task","created_at":"2025-11-16T11:53:49.701195-05:00","updated_at":"2025-11-16T11:53:49.701195-05:00","source_repo":".","labels":["async","daemon","modernization"]}
{"id":"catsyphon-6al.2","content_hash":"1489bbe254464252ab9a9474c7e4f0b0c58298c60b8becc4f6197839bd17ffb7","title":"Database Connection Pool Tuning","description":"Increase pool_size from 5 to 50. Add pool_pre_ping for connection health checks. Configure pool_recycle for long-lived connections. Files: backend/src/catsyphon/db/connection.py. Estimate: 1 day","status":"open","priority":1,"issue_type":"task","created_at":"2025-11-16T11:53:55.56048-05:00","updated_at":"2025-11-16T11:53:55.56048-05:00","source_repo":".","labels":["database","modernization","performance"]}
{"id":"catsyphon-6al.3","content_hash":"e1aa84ba17f5403babf9c8238dbf0e6a0e8119370b42e3fb4c65dc2bb3a0b351","title":"Parallel Batch Processing","description":"Add asyncio.Semaphore for concurrency control (10 workers). Update cli.py ingest command to use parallel processing. Add progress bar with rich.progress. Files: backend/src/catsyphon/cli.py. Estimate: 2 days","status":"open","priority":2,"issue_type":"task","created_at":"2025-11-16T11:54:01.4697-05:00","updated_at":"2025-11-16T11:54:01.4697-05:00","source_repo":".","labels":["cli","modernization","parallel"]}
{"id":"catsyphon-6al.4","content_hash":"a8fd5925d3eee61a80544404d9f5281e9ec258ea7ac71f1fc3ef42587e11fbf4","title":"Redis Caching Layer","description":"Cache dashboard stats with 30s TTL. Cache parser metadata indefinitely. Cache workspace permissions with 5min TTL. Add cache invalidation on data changes. Files: new backend/src/catsyphon/cache/redis.py. Estimate: 2 days","status":"open","priority":2,"issue_type":"task","created_at":"2025-11-16T11:54:07.370415-05:00","updated_at":"2025-11-16T11:54:07.370415-05:00","source_repo":".","labels":["caching","modernization","redis"]}
{"id":"catsyphon-6al.5","content_hash":"b7059f8e76d7406d21285eb1269fa3a4497b64bee126b1e81b9b497c70b95c40","title":"Database Read Replicas Support","description":"Add read-only database connection for stats endpoints. Route SELECT queries to replica. Route INSERT/UPDATE to primary. Files: backend/src/catsyphon/db/connection.py, repository files. Estimate: 2 days","status":"open","priority":2,"issue_type":"task","created_at":"2025-11-16T11:54:13.273404-05:00","updated_at":"2025-11-16T11:54:13.273404-05:00","source_repo":".","labels":["database","modernization","scaling"]}
{"id":"catsyphon-6al.6","content_hash":"f894f30ca24275f4e5d0d461a97343692b38bd98230dfcdecc1a18a5135af57e","title":"Shared Daemon Coordinator","description":"Use Redis locks for distributed daemon management. Support multiple API servers managing same watch configs. Add leader election for daemon orchestration. Files: backend/src/catsyphon/daemon_manager.py. Estimate: 3 days","status":"open","priority":2,"issue_type":"task","created_at":"2025-11-16T11:54:19.176378-05:00","updated_at":"2025-11-16T11:54:19.176378-05:00","source_repo":".","labels":["coordination","distributed","modernization"]}
{"id":"catsyphon-6al.7","content_hash":"ab81f8ab875338028142ccd1b7522b9e393638b1871232b9dc95ce197a7bdca2","title":"Horizontal Scaling Documentation","description":"Document load balancer setup (Nginx/HAProxy). Database replication configuration. Redis cluster setup. Monitoring with Prometheus/Grafana. Files: new docs/scaling-guide.md. Estimate: 2 days","status":"open","priority":3,"issue_type":"task","created_at":"2025-11-16T11:54:25.09774-05:00","updated_at":"2025-11-16T11:54:25.09774-05:00","source_repo":".","labels":["documentation","modernization","scaling"]}
{"id":"catsyphon-6pr","content_hash":"02abcf8c8b4a86939a96f5d528f2028eb28ea76b6cdc16a07cc721f2335527aa","title":"Add automatic recovery for crashed watch daemons","description":"When a watch daemon crashes or stops responding, the system should automatically attempt to restart it rather than requiring manual intervention.\n\nDesign:\n- DaemonManager should detect unresponsive daemons (via health check)\n- Implement exponential backoff retry logic\n- Track restart attempts and crash count\n- Alert/log after N consecutive failures\n- Optionally mark daemon as 'degraded' if it crashes frequently\n\nBenefits:\n- Improved reliability for long-running deployments\n- Reduced manual intervention\n- Better user experience\n\nDependencies:\n- Requires catsyphon-ter (health check improvements) to be fixed first","status":"open","priority":2,"issue_type":"feature","created_at":"2025-11-16T22:10:42.659245-05:00","updated_at":"2025-11-16T22:10:42.659245-05:00","source_repo":"."}
{"id":"catsyphon-6ra","content_hash":"e4d8ceec1fece6ba45284cdac3089c03859b51f6a855fa12b326b6ac131ec621","title":"Parser allows null role causing database constraint violation","description":"","notes":"Original band-aid fix in f37b4e9 (skip null roles).\nProper fix in 6fb5277 (filter non-conversational messages in incremental parse).\n\nBoth parse paths now consistently filter out file snapshots, summaries, and metadata events.\n\nFuture work tracked in catsyphon-bkw to support all message types.","status":"closed","priority":0,"issue_type":"bug","created_at":"2025-11-14T20:26:31.325637-05:00","updated_at":"2025-11-14T20:36:52.067994-05:00","closed_at":"2025-11-14T20:26:42.341353-05:00","source_repo":"."}
{"id":"catsyphon-7","content_hash":"7b3219647f7feb1ff672127a993dbec982f11c698b67047ba7f511d8191f5a55","title":"Create comprehensive implementation plan documentation","description":"","status":"closed","priority":1,"issue_type":"task","created_at":"2025-10-30T11:31:28.978852-04:00","updated_at":"2025-10-30T12:10:59.661702-04:00","closed_at":"2025-10-30T12:10:59.661702-04:00","source_repo":".","dependencies":[{"issue_id":"catsyphon-7","depends_on_id":"catsyphon-1","type":"blocks","created_at":"2025-10-30T11:31:28.97952-04:00","created_by":"kulesh"}]}
{"id":"catsyphon-7qg","content_hash":"392e0de4beab1f979f1e3073c9bdd48623f29ef29082939e43c9cfb4efe4c306","title":"Add CLI command tests (currently 59% coverage)","description":"Add tests for CLI commands using Typer's CliRunner:\n- version command (line 22)\n- ingest command handling (lines 28-182) - high priority, complex logic\n- serve command (lines 184-208)\n- db_init command (lines 211-218)\n- db_status command (lines 221-237)\n- Mock dependencies (database, file system, uvicorn)\nTarget: 85%+ coverage\n\nNote: Watch command removed in favor of DaemonManager API (commit a3dffcb)","status":"open","priority":1,"issue_type":"task","created_at":"2025-11-12T22:20:18.047907-05:00","updated_at":"2025-11-14T22:48:33.274178-05:00","source_repo":"."}
{"id":"catsyphon-7ri","content_hash":"da71cbb2c39796c7a383b09642d454e715b7a3fd81d6ddb6bca9e4cc0f523b92","title":"watchdog fsevents Bus error crash in test_daemon_manager.py","description":"After fixing RestartPolicy bugs, test_daemon_manager.py crashes with 'Fatal Python error: Bus error' in watchdog fsevents on macOS.\n\n**Error:**\n```\nFatal Python error: Bus error\nFile watchdog/observers/fsevents.py line 307 in run\n```\n\n**Context:**\n- Occurs in test_start_daemon_already_running (10th test)\n- First 9 tests pass successfully\n- macOS-specific issue with watchdog library's FSEvents integration\n- Extension modules: _watchdog_fsevents\n\n**Tests Passing Before Crash:**\n- All 6 RestartPolicy tests ✅\n- test_init ✅\n- test_start_background_threads ✅  \n- test_start_daemon ✅\n\n**Root Cause:**\nLikely watchdog library issue with macOS FSEvents. This is separate from the RestartPolicy bug that was fixed.\n\n**Workaround:**\nSkip tests that use actual file watching on macOS, or mock the watchdog observer.\n\n**Next Steps:**\n1. Check watchdog version compatibility with macOS/Python 3.12\n2. Consider mocking file system observers in tests\n3. Try pytest-xdist to isolate daemon tests","status":"closed","priority":2,"issue_type":"bug","created_at":"2025-11-15T15:11:45.088459-05:00","updated_at":"2025-11-15T18:59:44.201712-05:00","closed_at":"2025-11-15T18:59:44.201712-05:00","source_repo":"."}
{"id":"catsyphon-7rv","content_hash":"cc7a893c5137ebc541cb9dec1f8ad86082c302f8b4508666b0975db669ab575d","title":"Optimize conversations list page performance","description":"","status":"closed","priority":1,"issue_type":"task","created_at":"2025-11-08T01:44:56.049835-05:00","updated_at":"2025-11-08T01:45:23.963375-05:00","closed_at":"2025-11-08T01:45:23.963375-05:00","source_repo":"."}
{"id":"catsyphon-8","content_hash":"86a99f710725889df33e858140fcbfb8961bab9ee3ffabcd6dfaa02acc1aadd7","title":"Setup Alembic and create initial database schema migration","description":"","status":"closed","priority":1,"issue_type":"task","created_at":"2025-10-30T12:12:51.055815-04:00","updated_at":"2025-11-01T17:22:10.142239-04:00","closed_at":"2025-11-01T17:22:10.142239-04:00","source_repo":".","dependencies":[{"issue_id":"catsyphon-8","depends_on_id":"catsyphon-1","type":"blocks","created_at":"2025-10-30T12:12:51.056468-04:00","created_by":"kulesh"}]}
{"id":"catsyphon-8at","content_hash":"0f657c50ea1d513ab5747d62fbcf97a5f733bb2c4343f0dce0388276e10da353","title":"Add frontend test infrastructure (Vitest + React Testing Library)","description":"Setup Vitest and React Testing Library for frontend testing. Add basic component and API client tests. Estimated: 2-3 hours. Reference: backend test review completed with 400 tests passing (100% pass rate).","status":"closed","priority":2,"issue_type":"task","created_at":"2025-11-08T02:48:53.39272-05:00","updated_at":"2025-11-14T15:12:05.756463-05:00","closed_at":"2025-11-12T21:36:49.495857-05:00","source_repo":"."}
{"id":"catsyphon-8kw","content_hash":"63f24d4643a0449b703d07b9fce8c13cbba602b6a23e02bbc18fae1e0931f94f","title":"Epic 2: Remote Collector Protocol","description":"Enable distributed agents to push logs to centralized server. Add collector authentication, streaming upload API, Python SDK, heartbeat monitoring, and multi-tenancy foundations. Estimate: 3 weeks","status":"open","priority":0,"issue_type":"epic","created_at":"2025-11-16T11:50:36.016949-05:00","updated_at":"2025-11-16T11:50:36.016949-05:00","source_repo":".","labels":["collector","distributed","modernization"]}
{"id":"catsyphon-8kw.1","content_hash":"4b93a10c720c2c23d80c2734030002fa0999cd3240a844cfb5235b004219c4d3","title":"Collector Database Schema","description":"Create CollectorConfig table (id, name, collector_type, api_key_hash, workspace_id, is_active, last_heartbeat, metadata). Create Workspace table for multi-tenancy (id, name, organization_id, settings). Add migration script. Files: backend/src/catsyphon/models/db.py, new Alembic migration. Estimate: 2 days","status":"open","priority":1,"issue_type":"task","created_at":"2025-11-16T11:51:04.869748-05:00","updated_at":"2025-11-16T11:51:04.869748-05:00","source_repo":".","labels":["database","modernization","schema"]}
{"id":"catsyphon-8kw.2","content_hash":"e44f72825f792fc6bae90b1e56b3e1448fc1911e786f337ac07d24555b9ba4f6","title":"API Key Authentication System","description":"Implement API key generation with workspace scoping. Add key hashing (bcrypt) and validation. Create /auth/collectors/keys CRUD endpoints. Add authentication middleware for collector routes. Files: new backend/src/catsyphon/auth/collector_auth.py, api/routes/auth.py. Estimate: 2 days","status":"open","priority":1,"issue_type":"task","created_at":"2025-11-16T11:51:10.773459-05:00","updated_at":"2025-11-16T11:51:10.773459-05:00","source_repo":".","labels":["authentication","modernization","security"]}
{"id":"catsyphon-8kw.3","content_hash":"327c33ed25ccc40617882dac95c84e05308fd694a96d38e382d1e2ae8085fcde","title":"Streaming Upload API","description":"Create POST /collectors/{collector_id}/stream endpoint. Support chunked transfer encoding for incremental uploads. Handle partial message ingestion. Add upload progress tracking. Files: backend/src/catsyphon/api/routes/collectors.py. Estimate: 3 days","status":"open","priority":1,"issue_type":"task","created_at":"2025-11-16T11:51:16.664107-05:00","updated_at":"2025-11-16T11:51:16.664107-05:00","source_repo":".","labels":["api","modernization","streaming"]}
{"id":"catsyphon-8kw.4","content_hash":"6e7955ffd06ede4a523f7fc0e30aa1e356ec84266e759d391cdb7f0009b921d1","title":"Collector Heartbeat System","description":"Create POST /collectors/{collector_id}/heartbeat endpoint. Track last_heartbeat timestamp. Auto-mark stale collectors (\u003e5min) as inactive. Expose collector health in API. Files: backend/src/catsyphon/api/routes/collectors.py, new collectors/health.py. Estimate: 1 day","status":"open","priority":2,"issue_type":"task","created_at":"2025-11-16T11:51:22.570766-05:00","updated_at":"2025-11-16T11:51:22.570766-05:00","source_repo":".","labels":["health","modernization","monitoring"]}
{"id":"catsyphon-8kw.5","content_hash":"6c4c8b868c5a02e166e59a19d6630484ed0fa8047f52bb352ed289d9e7cad6f2","title":"Python Collector SDK","description":"Create catsyphon-collector Python package. Implement CollectorClient class with streaming upload. Add automatic retry with exponential backoff. Support batch uploading with configurable flush interval. Files: new sdk/python/catsyphon_collector/ directory. Estimate: 4 days","status":"open","priority":1,"issue_type":"task","created_at":"2025-11-16T11:51:28.481387-05:00","updated_at":"2025-11-16T11:51:28.481387-05:00","source_repo":".","labels":["modernization","python","sdk"]}
{"id":"catsyphon-8kw.6","content_hash":"712859b04498daee00419f7a7bbd2c3d80f16a7cbd73f9b52b990112fce514ec","title":"Collector CLI Tool","description":"Build catsyphon-agent CLI using Typer. Commands: init, watch, upload, status. Configuration via ~/.catsyphon-agent/config.yaml. Files: new sdk/python/catsyphon_collector/cli.py. Estimate: 2 days","status":"open","priority":2,"issue_type":"task","created_at":"2025-11-16T11:51:34.396304-05:00","updated_at":"2025-11-16T11:51:34.396304-05:00","source_repo":".","labels":["cli","modernization","tool"]}
{"id":"catsyphon-8kw.7","content_hash":"ceeaf4ca4d843b71b511a754958dfd75dd374381bce31fa0dbd5d8e6dc068134","title":"Multi-Tenancy Workspace Isolation","description":"Add workspace_id to Conversation, Project, Developer tables. Update all repositories to filter by workspace. Add workspace switching in API. Files: backend/src/catsyphon/models/db.py, all repository files. Estimate: 3 days","status":"closed","priority":1,"issue_type":"task","created_at":"2025-11-16T11:51:40.313198-05:00","updated_at":"2025-11-16T18:26:12.515218-05:00","closed_at":"2025-11-16T18:26:12.515218-05:00","source_repo":".","labels":["database","modernization","multi-tenancy"]}
{"id":"catsyphon-8kw.8","content_hash":"bf4a7084f2c49c4b20bd4f2e6169adbbb76329272f1d62276f161cab62f4a8a6","title":"Collector Management UI","description":"Add Collectors page in frontend. Display active/inactive collectors with health status. API key management (generate, revoke). Collector stats (conversations pushed, last heartbeat). Files: new frontend/src/pages/Collectors.tsx. Estimate: 3 days","status":"open","priority":2,"issue_type":"task","created_at":"2025-11-16T11:51:46.229905-05:00","updated_at":"2025-11-16T11:51:46.229905-05:00","source_repo":".","labels":["frontend","modernization","ui"]}
{"id":"catsyphon-8kw.9","content_hash":"a304b4e39ccc6770c5e4179ebebc7ec433f9b50df5ba206c48ca9c93408c9fcb","title":"Web UI Onboarding Wizard","description":"Implement first-time setup wizard for creating organizations and workspaces. Includes route protection, setup status check, 4-step wizard (welcome, org, workspace, success), workspace context provider, and comprehensive test coverage (35 frontend tests, 23 backend tests).","status":"closed","priority":1,"issue_type":"task","created_at":"2025-11-16T19:35:32.180093-05:00","updated_at":"2025-11-16T19:35:45.749863-05:00","closed_at":"2025-11-16T19:35:45.749863-05:00","source_repo":"."}
{"id":"catsyphon-9","content_hash":"459b20f4b1fa0744339f52784ddc3f6241e3962d05ae14ae352bd77a02a2233e","title":"Create SQLAlchemy models for all database tables","description":"","status":"closed","priority":1,"issue_type":"task","created_at":"2025-10-30T12:12:56.703257-04:00","updated_at":"2025-11-01T17:22:10.20455-04:00","closed_at":"2025-11-01T17:22:10.20455-04:00","source_repo":".","dependencies":[{"issue_id":"catsyphon-9","depends_on_id":"catsyphon-1","type":"blocks","created_at":"2025-10-30T12:12:56.70397-04:00","created_by":"kulesh"}]}
{"id":"catsyphon-981","content_hash":"2e6e29e94f5614b134cf8a9b601a4a3869290c67d99ea4468dfbae3615dd797c","title":"Add unified tagging settings panel","description":"","status":"open","priority":3,"issue_type":"task","created_at":"2025-11-14T20:06:00.08981-05:00","updated_at":"2025-11-14T20:06:00.08981-05:00","source_repo":"."}
{"id":"catsyphon-9qg","content_hash":"5289d2a30349407c43e92b20ec203e7e67a8e2e624b99028a4d998eb0c98d919","title":"Epic 3: Real-Time Event System","description":"Add sub-second updates via WebSocket/SSE. Replace polling with event-driven architecture. Add Redis pub/sub, SSE ingestion stream, WebSocket daemon monitoring, upload progress streaming, and live activity dashboard. Estimate: 2 weeks","status":"open","priority":1,"issue_type":"epic","created_at":"2025-11-16T11:52:05.448987-05:00","updated_at":"2025-11-16T11:52:05.448987-05:00","source_repo":".","labels":["modernization","real-time","websocket"]}
{"id":"catsyphon-9qg.1","content_hash":"b8ce516c23425c72b62869ae4808e63544278036ca969daa343f9bd3ba37beb9","title":"Redis Pub/Sub Infrastructure","description":"Add Redis to docker-compose.yml. Create EventBus class with pub/sub channels. Define event types (ingestion.job.created, ingestion.job.completed, daemon.status.changed). Files: docker-compose.yml, new backend/src/catsyphon/events/bus.py. Estimate: 1 day","status":"open","priority":1,"issue_type":"task","created_at":"2025-11-16T11:52:29.660235-05:00","updated_at":"2025-11-16T11:52:29.660235-05:00","source_repo":".","labels":["infrastructure","modernization","redis"]}
{"id":"catsyphon-9qg.2","content_hash":"0c432a867d5db866d1cbc406841b808612947c53667083e6cdf848e2909b884b","title":"SSE Ingestion Event Stream","description":"Create GET /events/ingestion SSE endpoint. Publish events on job status changes. Support filtering by project, developer, source_type. Files: backend/src/catsyphon/api/routes/events.py. Estimate: 2 days","status":"open","priority":1,"issue_type":"task","created_at":"2025-11-16T11:52:35.499504-05:00","updated_at":"2025-11-16T11:52:35.499504-05:00","source_repo":".","labels":["api","modernization","sse"]}
{"id":"catsyphon-9qg.3","content_hash":"d68ff5d8e13fe4223abaadc2a592632d9274ab827d01b452f5c2eadffb2bc97a","title":"WebSocket Daemon Monitoring","description":"Create WS /ws/watch/{config_id} endpoint. Stream daemon stats every 1 second. Handle client disconnections gracefully. Files: backend/src/catsyphon/api/routes/websockets.py. Estimate: 2 days","status":"open","priority":1,"issue_type":"task","created_at":"2025-11-16T11:52:41.408489-05:00","updated_at":"2025-11-16T11:52:41.408489-05:00","source_repo":".","labels":["modernization","monitoring","websocket"]}
{"id":"catsyphon-9qg.4","content_hash":"e1551b86e4582c2229b8afd69f582d14e07b26305428d67e1b1c92d9b48e3401","title":"Frontend WebSocket Client","description":"Replace polling with EventSource (SSE) for ingestion jobs. Replace polling with WebSocket for daemon status. Add reconnection logic with exponential backoff. Files: frontend/src/lib/events.ts, update pages/Ingestion.tsx. Estimate: 2 days","status":"open","priority":1,"issue_type":"task","created_at":"2025-11-16T11:52:47.32382-05:00","updated_at":"2025-11-16T11:52:47.32382-05:00","source_repo":".","labels":["frontend","modernization","websocket"]}
{"id":"catsyphon-9qg.5","content_hash":"4e43632f0083094ef99f8bf0f4ca87860940ba82cf070dc8b5566ba665ca30f4","title":"Upload Progress Streaming","description":"Update POST /upload to return SSE stream. Emit events: uploading, parsing, ingesting, complete. Add progress percentage calculation. Files: backend/src/catsyphon/api/routes/upload.py. Estimate: 1 day","status":"open","priority":2,"issue_type":"task","created_at":"2025-11-16T11:52:53.230838-05:00","updated_at":"2025-11-16T11:52:53.230838-05:00","source_repo":".","labels":["modernization","streaming","upload"]}
{"id":"catsyphon-9qg.6","content_hash":"b3791b5023b2baf93a31d40084adef80816eff93370daff0afd51fe342b8dbb8","title":"Frontend Upload Progress UI","description":"Add progress bar to upload modal. Display real-time parsing status. Show error messages inline. Files: update frontend/src/pages/Ingestion.tsx. Estimate: 1 day","status":"open","priority":2,"issue_type":"task","created_at":"2025-11-16T11:52:59.126522-05:00","updated_at":"2025-11-16T11:52:59.126522-05:00","source_repo":".","labels":["frontend","modernization","ui"]}
{"id":"catsyphon-9qg.7","content_hash":"ba040fac105039f10b896b31bb06cf0656fdb1f7dfb7aee26a782608c105bdea","title":"Live Activity Dashboard Widget","description":"Add Live Activity widget to dashboard. Show real-time ingestion feed (last 10 jobs). Auto-scroll on new events. Files: update frontend/src/pages/Dashboard.tsx. Estimate: 1 day","status":"open","priority":2,"issue_type":"task","created_at":"2025-11-16T11:53:05.012647-05:00","updated_at":"2025-11-16T11:53:05.012647-05:00","source_repo":".","labels":["dashboard","modernization","ui"]}
{"id":"catsyphon-a2j","content_hash":"3cf7bd16872ceecec9f56adeecfcc5cb0adad8531cc6c586c178a6597fb96bc0","title":"Epic 1.5: Foundation Polish","description":"Critical quality improvements to parser coverage, tagging workflow, explainability, and startup validation. Ensures data completeness and system reliability before building remote collector protocol (Epic 2). Includes: thinking message capture, manual tagging API, LLM reasoning display, and enhanced startup checks. Estimate: 1-2 weeks","status":"closed","priority":0,"issue_type":"epic","created_at":"2025-11-16T19:54:36.647387-05:00","updated_at":"2025-11-16T21:24:30.03414-05:00","closed_at":"2025-11-16T21:24:30.03414-05:00","source_repo":"."}
{"id":"catsyphon-a2j.1","content_hash":"2684b4083df9be5f6e2b21ac00f0aab08f909495835c1000914d0cc032675d7c","title":"Capture Claude Thinking Messages in Parser","description":"Parser currently skips type:thinking content blocks, losing valuable reasoning data. Add thinking block support to extract_text_content(), store in ParsedMessage (thinking_content field or extra_data), update database schema, and add tests with thinking fixtures. Files: parsers/utils.py, models/parsed.py, models/db.py. Estimate: 2-3 days","status":"closed","priority":0,"issue_type":"task","created_at":"2025-11-16T19:54:50.513836-05:00","updated_at":"2025-11-16T21:23:42.406866-05:00","closed_at":"2025-11-16T21:23:42.406866-05:00","source_repo":"."}
{"id":"catsyphon-a2j.2","content_hash":"3a3423786368752d6872935d0792c7c64859b1c4a20a4e43562db1a2fbb144cf","title":"Manual Tagging \u0026 Retagging API with UI","description":"No way to tag/retag conversations from UI or API. Add POST /conversations/{id}/tag, POST /conversations/{id}/retag (bypass cache), POST /conversations/bulk-tag endpoints. Add Retag button to ConversationDetail page. Skip tagging for conversations with \u003c3 messages. Files: api/routes/conversations.py, api/schemas.py, pages/ConversationDetail.tsx. Estimate: 3-4 days","status":"closed","priority":0,"issue_type":"task","created_at":"2025-11-16T19:55:02.87469-05:00","updated_at":"2025-11-16T21:23:53.743781-05:00","closed_at":"2025-11-16T21:23:53.743781-05:00","source_repo":"."}
{"id":"catsyphon-a2j.3","content_hash":"804e07af02c75b1f509304a5339c347d34e748a0a5d7fba332b64aad35725eb7","title":"LLM Tagging Explainability \u0026 Reasoning","description":"Tags appear without reasoning - can't debug or understand LLM decisions. Update LLM prompt to request reasoning for each tag (intent_reasoning, outcome_reasoning, sentiment_reasoning). Store reasoning in Conversation.tags JSONB with prompt version tracking. Display reasoning in UI with expandable/tooltip. Files: tagging/llm_tagger.py, models/parsed.py, pages/ConversationDetail.tsx. Estimate: 3-4 days","status":"closed","priority":1,"issue_type":"task","created_at":"2025-11-16T19:55:15.798314-05:00","updated_at":"2025-11-16T21:24:05.347507-05:00","closed_at":"2025-11-16T21:24:05.347507-05:00","source_repo":"."}
{"id":"catsyphon-a2j.4","content_hash":"626c2ce10f69a513179d0d87f78558ef94188367e935c9193e0dff42427193c7","title":"Enhanced Startup Dependency Checks","description":"OpenAI API key not validated during startup - tagging silently fails at runtime. Validate OpenAI API key with test call, check cache directory write permissions, validate critical config values (ports, paths), add helpful error messages with troubleshooting links. Make OPENAI_API_KEY required if tagging enabled. Files: startup.py, config.py. Estimate: 2 days","status":"closed","priority":1,"issue_type":"task","created_at":"2025-11-16T19:55:28.583357-05:00","updated_at":"2025-11-16T21:24:16.674294-05:00","closed_at":"2025-11-16T21:24:16.674294-05:00","source_repo":"."}
{"id":"catsyphon-arx","content_hash":"0b383b318b46a38632499445b252deb09bb8d0f836e3fa836c236d95f28c9971","title":"Integration Tests","description":"End-to-end test: remote collector → API → database → frontend. Test plugin loading and security sandbox. Test SSE/WebSocket reconnection. Files: new backend/tests/integration/. Estimate: 3 days","status":"open","priority":2,"issue_type":"task","created_at":"2025-11-16T11:54:53.757405-05:00","updated_at":"2025-11-16T11:54:53.757405-05:00","source_repo":".","labels":["integration","modernization","testing"]}
{"id":"catsyphon-atn","content_hash":"b9fd56c6a911ab334be893cc42c1761e5f6a5a8119e908e7217d3d67be1e7121","title":"Add comprehensive tests for ingestion management features","description":"Write comprehensive test coverage for the unified ingestion management feature.\n\n**Backend Tests:**\n- API routes: /watch/configs, /ingestion/jobs (11 endpoints)\n- Repositories: WatchConfigurationRepository, IngestionJobRepository\n- Pipeline integration: Job tracking lifecycle\n- Parser fixes: Non-conversational message filtering\n\n**Frontend Tests:**\n- Ingestion page: Tab navigation and all 4 tabs\n- Bulk Upload: File upload, validation, progress tracking\n- Watch Directories: CRUD operations, start/stop\n- Live Activity: Stats display, auto-refresh\n- History \u0026 Logs: Filtering, pagination\n- API client: All 10 new API functions\n\n**Coverage Goals:**\n- Backend: 90%+ for new code\n- Frontend: 80%+ for new components\n\n**Branch:** feature/ingestion-management-tests\n**Related:** catsyphon-1de (Unified Ingestion Management UI)","status":"closed","priority":1,"issue_type":"task","created_at":"2025-11-14T20:56:02.927932-05:00","updated_at":"2025-11-16T21:35:42.876864-05:00","closed_at":"2025-11-16T18:27:21.570398-05:00","source_repo":".","labels":["backend","frontend","testing"]}
{"id":"catsyphon-bbu","content_hash":"8c95912bc28196e3cf038e3334b79cc2262f6e2325acc95ae3aa8ce870d13468","title":"Server logs not being written to file after restart","description":"The backend server is running but not writing logs to backend/logs/catsyphon.log. Logs appear to be going to stdout/stderr only.\n\nEvidence:\n- Server running on port 8000 (PID 94222, started Nov 16 22:20:48)\n- backend/logs/catsyphon.log last modified Nov 16 11:19:29\n- API calls successful but no new log entries\n- Makes debugging very difficult\n\nPossible causes:\n1. uvicorn --reload bypasses logging configuration\n2. Logging setup code not being executed on certain startup paths\n3. File handler permissions issue\n4. Configuration not loaded properly\n\nInvestigation needed:\n- Check how logging is initialized in api/app.py\n- Verify log file permissions\n- Test if issue specific to --reload mode\n- Check if issue happens with 'catsyphon serve' command\n\nImpact:\n- Can't debug server issues after restart\n- Can't investigate daemon problems\n- Makes issue triage difficult\n\nNote: This is separate from catsyphon-c5m (adding daemon-specific logging).\nThis is about the main server log not working.","status":"open","priority":2,"issue_type":"bug","created_at":"2025-11-16T22:23:54.397724-05:00","updated_at":"2025-11-16T22:23:54.397724-05:00","source_repo":"."}
{"id":"catsyphon-bbz","content_hash":"270e1c3c04346268f6e1e4e018d8c9082ea05bd5fc206be7ca8cb81a865b8a0f","title":"Implement Bulk Upload tab","description":"","status":"closed","priority":1,"issue_type":"task","created_at":"2025-11-14T20:05:31.962385-05:00","updated_at":"2025-11-14T20:13:35.40982-05:00","closed_at":"2025-11-14T20:13:35.40982-05:00","source_repo":"."}
{"id":"catsyphon-bkw","content_hash":"054393cab9011d579d3a845d087e1eb69c0058e46570408c5298020269efc79c","title":"Support non-conversational message types in data model","description":"Currently the parser filters out non-conversational messages (file snapshots, summaries, metadata events) because our database schema only supports user/assistant messages with roles.\n\n**Message Types Being Filtered:**\n- File snapshots: Full file contents for context (no role field)\n- Session summaries: Conversation summaries (no role field)  \n- Metadata events: System events, configuration changes (no role field)\n\n**Current Filtering Logic:**\n```python\n# claude_code.py:385-391\nconversation_messages = [\n    msg for msg in raw_messages\n    if msg.get('type') in ('user', 'assistant')\n    and msg.get('message', {}).get('role') in ('user', 'assistant')\n]\n```\n\n**Why We Filter:**\nThe messages table has a NOT NULL constraint on role column, expecting only 'user' or 'assistant' values. Non-conversational messages don't have roles.\n\n**To Support All Messages:**\n1. Make role nullable OR add a separate message_type column\n2. Create separate tables for different event types (file_snapshots, system_events, etc.)\n3. Update parser to handle all message types\n4. Update API/UI to display non-conversational events in timeline\n\n**Value:**\nWould provide complete visibility into:\n- What files Claude was reading at each point\n- Session state and configuration\n- Full context of the conversation beyond just chat messages\n\n**Related Issue:** \nDiscovered during catsyphon-6ra (parser null role bug fix)","notes":"Discovered during catsyphon-6ra investigation. Currently filters out file snapshots, summaries, and metadata events because messages.role is NOT NULL.","status":"open","priority":2,"issue_type":"feature","created_at":"2025-11-14T20:34:47.908229-05:00","updated_at":"2025-11-14T20:35:04.164008-05:00","source_repo":".","labels":["data-model","parser","schema-change"]}
{"id":"catsyphon-c5m","content_hash":"14f77a03eacff7fb125d406ab9f4e14e34fc70a393f769c992ea56f8dc8664fb","title":"Add persistent file-based logging for watch daemon debugging","description":"Currently, watch daemon logs only go to stdout/stderr, which makes debugging crashes difficult since logs are lost when the process dies or the terminal scrolls.\n\nSolution:\n- Add rotating file handler to watch daemon logger\n- Store logs in backend/logs/watch_daemon_{config_id}.log\n- Use RotatingFileHandler with size limits (e.g., 10MB per file, 5 backups)\n- Include daemon startup, shutdown, errors, and processing events\n- Add configuration option to control log level\n\nBenefits:\n- Easier debugging of daemon crashes\n- Historical log retention for troubleshooting\n- Better production support\n\nFiles to modify:\n- backend/src/catsyphon/watch.py - Add file handler\n- backend/src/catsyphon/daemon_manager.py - Configure per-daemon logging\n- backend/src/catsyphon/config.py - Add log configuration options","status":"open","priority":2,"issue_type":"task","created_at":"2025-11-16T22:10:57.959974-05:00","updated_at":"2025-11-16T22:10:57.959974-05:00","source_repo":"."}
{"id":"catsyphon-cgq","content_hash":"97f25eae2a7d79e5ce6a7857dcdd65507f0c55918eb01e85595929b3546aecc3","title":"Add live countdown timer for auto-refresh indicator","description":"Added countdown timer showing seconds until next auto-refresh on ConversationList and ConversationDetail pages. Improves UX by showing users when data will update.\n\n**Implementation:**\n- Created useRefreshCountdown hook with tests\n- Shows 'Refreshing now...' when refetch occurs\n- Shows 'X seconds' countdown between refreshes\n- Integrated into both conversation pages\n\n**Commit:** 174ecda","status":"closed","priority":2,"issue_type":"feature","created_at":"2025-11-14T20:49:53.236899-05:00","updated_at":"2025-11-14T20:50:03.892975-05:00","closed_at":"2025-11-14T20:50:03.892975-05:00","source_repo":"."}
{"id":"catsyphon-ck3","content_hash":"ef42242b2429aaad854cbd579bea2f89746ed1fbe5743d3236e202cfe7c834cc","title":"CLI \u0026 Watch Daemon Integration: Add --enable-tagging flags","description":"","status":"closed","priority":1,"issue_type":"task","created_at":"2025-11-12T21:47:59.619801-05:00","updated_at":"2025-11-12T21:57:21.183693-05:00","closed_at":"2025-11-12T21:57:21.183693-05:00","source_repo":".","dependencies":[{"issue_id":"catsyphon-ck3","depends_on_id":"catsyphon-11","type":"blocks","created_at":"2025-11-12T21:47:59.621471-05:00","created_by":"kulesh"}]}
{"id":"catsyphon-d03","content_hash":"679b70e975f75b9cf8a0ead793723320c938404ffc44215944e27bafabd24a83","title":"Fix Cartesian explosion in conversation list query","description":"Conversation list query creates massive Cartesian product causing severe performance issues\n\n**Current Issue:**\nQuery uses 3 outer joins (messages, epochs, files_touched) with DISTINCT counts and GROUP BY.\nFor avg conversation (891 msgs × 5 epochs × 148 files) = 659,340 intermediate rows\\!\nFor 20 conversations, database processes ~13 MILLION rows.\n\n**Database Stats:**\n- 759 conversations total\n- Avg: 891 messages, 148 files per conversation\n- Max: 1,845 messages, 268 files in one conversation\n- Page size: 20 conversations\n- Result: 3-5 second query times\n\n**Root Cause:**\n`get_with_counts()` in conversation.py:302-389 does:\n```python\n.outerjoin(Message).outerjoin(Epoch).outerjoin(FileTouched)\n.group_by(Conversation.id)\n```\nThis creates Cartesian product before GROUP BY collapses it.\n\n**Solution: Denormalized Counts (Recommended)**\n1. Add columns to conversations table:\n   - message_count INTEGER DEFAULT 0\n   - epoch_count INTEGER DEFAULT 0  \n   - files_count INTEGER DEFAULT 0\n2. Update counts during ingestion (ingest_conversation)\n3. Add database triggers to keep counts in sync\n4. Migration to backfill existing counts\n5. Change get_with_counts() to simple SELECT with no joins\n\n**Alternative: Correlated Subqueries**\nReplace joins with subqueries (better than current, not as fast as denormalized):\n```python\n(SELECT COUNT(*) FROM messages WHERE conversation_id = c.id) as msg_count\n```\n\n**Files to Modify:**\n- backend/src/catsyphon/models/db.py (add count columns)\n- backend/src/catsyphon/db/repositories/conversation.py (update get_with_counts)\n- backend/src/catsyphon/pipeline/ingestion.py (update counts on insert)\n- Create Alembic migration with backfill\n- backend/tests/test_db/test_conversation_repository.py (update tests)\n\n**Performance Impact:**\n- Current: 3-5 seconds for 20 conversations\n- After fix: \u003c100ms for 20 conversations (30-50x faster)\n\n**Testing:**\n- Verify counts match before/after migration\n- Test count updates during ingestion\n- Load test with 1000+ conversations\n- EXPLAIN ANALYZE to verify no Cartesian product","status":"closed","priority":0,"issue_type":"bug","created_at":"2025-11-13T00:03:40.813207-05:00","updated_at":"2025-11-13T00:13:22.133155-05:00","closed_at":"2025-11-13T00:13:22.133155-05:00","source_repo":"."}
{"id":"catsyphon-dhs","content_hash":"d4837433a8a210ca64e373bb03cca7e056b028b1e0b80a732d22c3ae5b11fb1e","title":"task","description":"Implement comprehensive startup validation that checks database connection, migration status, and environment variables before FastAPI starts serving requests. Fail fast with clear, actionable error messages.","status":"closed","priority":1,"issue_type":"task","created_at":"2025-11-08T00:08:07.380238-05:00","updated_at":"2025-11-08T00:08:27.855368-05:00","closed_at":"2025-11-08T00:08:27.855368-05:00","source_repo":"."}
{"id":"catsyphon-dxg","content_hash":"589269644563872d92036ff1c5e04e136befdcbc6bdce3c24e6db2e0801a94d5","title":"Tagging Tests: Unit and integration tests for all taggers","description":"","status":"closed","priority":1,"issue_type":"task","created_at":"2025-11-12T21:48:05.397396-05:00","updated_at":"2025-11-12T22:07:26.893-05:00","closed_at":"2025-11-12T22:07:26.893-05:00","source_repo":".","dependencies":[{"issue_id":"catsyphon-dxg","depends_on_id":"catsyphon-11","type":"blocks","created_at":"2025-11-12T21:48:05.399041-05:00","created_by":"kulesh"}]}
{"id":"catsyphon-egq","content_hash":"3435fadac1ec1baa8fffbb3ea9945a848fbe483c441c1224f77a071c4eb2bb88","title":"Implement History \u0026 Logs tab with filters","description":"","status":"closed","priority":1,"issue_type":"task","created_at":"2025-11-14T20:05:48.823122-05:00","updated_at":"2025-11-14T20:21:52.828482-05:00","closed_at":"2025-11-14T20:21:52.828482-05:00","source_repo":"."}
{"id":"catsyphon-h4b","content_hash":"b08a88059a83a65bf272f99e67bce2f47b37ebcc7e9e331390b44e708d9c2916","title":"task","description":"Set up React Router with 3 routes (/, /conversations, /conversations/:id). Configure TanStack Query with QueryClientProvider and DevTools. Create TypeScript types matching backend schemas. Build API client with fetch wrapper and error handling. Create empty page shells.","status":"closed","priority":2,"issue_type":"task","created_at":"2025-11-07T23:35:19.880035-05:00","updated_at":"2025-11-07T23:42:31.186409-05:00","closed_at":"2025-11-07T23:42:31.186409-05:00","source_repo":"."}
{"id":"catsyphon-lad","content_hash":"e6fffc762542b22d23dbc527f2f7363e27b3327bc0f777c602d1ebd7666a27f2","title":"CLI ingest --no-skip-duplicates doesn't force re-ingest of existing conversations","description":"The CLI ingest command has a --no-skip-duplicates flag, but it only controls file hash deduplication. It doesn't control the update_mode parameter which defaults to 'skip' for existing conversations found by session_id.\n\nIssue:\n- User runs: catsyphon ingest file.jsonl --no-skip-duplicates\n- Parser finds 197 messages\n- Ingestion detects existing conversation by session_id\n- Status set to 'skipped', no update happens\n- User expects conversation to be updated/replaced\n\nRoot cause:\n- cli.py doesn't expose --update-mode parameter\n- ingestion.py::ingest_conversation() has update_mode='skip' hardcoded default\n- Even with skip_duplicates=False, update_mode='skip' prevents updates\n\nSolution options:\n1. Add --update-mode flag to CLI (skip|replace|append)\n2. Make --no-skip-duplicates also set update_mode='replace'\n3. Add --force flag that sets both skip_duplicates=False and update_mode='replace'\n\nFiles:\n- backend/src/catsyphon/cli.py\n- backend/src/catsyphon/pipeline/ingestion.py","status":"open","priority":1,"issue_type":"bug","created_at":"2025-11-16T22:14:22.40851-05:00","updated_at":"2025-11-16T22:14:22.40851-05:00","source_repo":"."}
{"id":"catsyphon-lyx","content_hash":"4d8ef9cb9f6e8e9965e9141b5ed31a5d6891b6ecdc24fe59add2983414b32bb4","title":"Verify daemon PID exists before marking as active","description":"The DaemonManager starts daemons but doesn't track their PIDs or verify they're still running. This allows the database to show is_active=true even when the process has been killed externally.\n\nIssues:\n1. No PID tracking when daemon starts\n2. Health check thread doesn't verify process exists\n3. Database state becomes inconsistent with reality\n4. UI shows incorrect status to users\n\nSolution:\n- Store daemon PID when process starts (in memory or db)\n- Add PID verification to health check (psutil.pid_exists())\n- Auto-update is_active=false if PID not found\n- Log warning when daemon death detected\n- Optionally trigger restart (see catsyphon-6pr)\n\nAlternative approach:\n- Use multiprocessing.Process instead of threads\n- Provides built-in is_alive() and exitcode checking\n- Better process isolation and monitoring\n\nRelated: catsyphon-ter (health check improvements)","status":"open","priority":1,"issue_type":"bug","created_at":"2025-11-16T22:11:13.464179-05:00","updated_at":"2025-11-16T22:11:13.464179-05:00","source_repo":"."}
{"id":"catsyphon-n92","content_hash":"da3285886222abd0b8bc81e8f48a0f62d70f89ddc0dae3955080e6053680d993","title":"Add TypeScript types for ingestion APIs","description":"","status":"closed","priority":1,"issue_type":"task","created_at":"2025-11-14T20:05:15.065666-05:00","updated_at":"2025-11-14T20:07:02.634437-05:00","closed_at":"2025-11-14T20:07:02.634437-05:00","source_repo":"."}
{"id":"catsyphon-nuj","content_hash":"b4ead9a09bccb824a556a98b8b882e7682651d89c8df9024ef0e279a43ea7f8e","title":"task","description":"Create ConversationDetail page displaying full conversation data. Include metadata card, message timeline (chronological with tool calls/results), epochs section, files touched list, and tags display. Add back navigation to list. Handle code change displays.","status":"closed","priority":2,"issue_type":"task","created_at":"2025-11-07T23:35:31.3207-05:00","updated_at":"2025-11-07T23:48:18.890716-05:00","closed_at":"2025-11-07T23:48:18.890716-05:00","source_repo":"."}
{"id":"catsyphon-olc","content_hash":"4299c80b815508dbd531ee988fb9a7cd5af4273e8774f502936a80a569788be4","title":"Implement Live Activity monitoring tab","description":"","status":"closed","priority":1,"issue_type":"task","created_at":"2025-11-14T20:05:43.210535-05:00","updated_at":"2025-11-14T20:21:47.206983-05:00","closed_at":"2025-11-14T20:21:47.206983-05:00","source_repo":"."}
{"id":"catsyphon-omd","content_hash":"9d56e136526f08fdaa55fcbb5fbdc11c38ac4f148e52462d1e731993f34f6b19","title":"Add manual tagging button to conversation detail page","description":"Allow users to manually trigger LLM tagging for a conversation from the UI\n\n**Requirements:**\n- Backend: Add POST /conversations/{id}/tag endpoint that runs TaggingPipeline on existing conversation\n- Update conversation tags in database after tagging\n- Frontend: Add 'Tag with AI' button to ConversationDetail page\n- Show loading state while tagging is in progress\n- Display new/updated tags after successful tagging\n- Show error message if tagging fails\n- Disable button if conversation already has tags (or show 'Re-tag' option)\n\n**Implementation Notes:**\n- Endpoint should check if OPENAI_API_KEY is configured\n- Use existing TaggingPipeline from catsyphon.tagging\n- Reconstruct ParsedConversation from database conversation for tagging\n- Cache results to avoid re-tagging identical conversations\n- Consider adding a tagging status indicator (pending/complete/failed)\n\n**Files to Modify:**\n- backend/src/catsyphon/api/routes/conversations.py (new endpoint)\n- backend/src/catsyphon/api/schemas.py (response schema)\n- frontend/src/lib/api.ts (API client method)\n- frontend/src/pages/ConversationDetail.tsx (UI button)\n- backend/tests/test_api_conversations.py (endpoint tests)\n- frontend/src/pages/ConversationDetail.test.tsx (button tests)","status":"open","priority":2,"issue_type":"feature","created_at":"2025-11-12T23:44:20.794233-05:00","updated_at":"2025-11-12T23:44:20.794233-05:00","source_repo":"."}
{"id":"catsyphon-p28","content_hash":"dbad39e9dc02b19a3009964f702eb777f4d65c4b11f7f73b3f2b87be503f0b41","title":"Watch daemon doesn't re-scan existing files on startup","description":"When the server restarts, the watch daemon doesn't re-scan existing files that may have changed while the daemon was down. This causes conversations to have stale data.\n\nScenario:\n1. Server running with watch daemon monitoring ~/.claude/projects/\n2. Conversation file created and ingested (e.g., 1 message)\n3. Server stopped (gracefully or crash)\n4. User continues working, file grows to 200+ messages\n5. Server restarted\n6. Watch daemon starts monitoring but doesn't detect existing file changes\n7. Only NEW file events (after restart) are processed\n8. Conversation remains at 1 message until manually triggered\n\nImpact:\n- Stale data in UI after server restarts\n- Users see incomplete conversations\n- Requires manual intervention (touch file, delete+re-ingest, etc.)\n\nRoot causes:\n- Watch daemon only responds to filesystem events AFTER it starts\n- No startup scan to detect files modified during downtime\n- No comparison of db state vs filesystem state\n\nSolution options:\n1. On startup, scan directory and compare file mtimes with raw_logs.updated_at\n2. Trigger incremental re-parse for files modified since last daemon stop\n3. Add --rescan flag to force full directory scan\n4. Store last_daemon_stop_time and process files modified after that\n\nRelated:\n- catsyphon-lad (update_mode issue compounds this)","status":"closed","priority":1,"issue_type":"bug","created_at":"2025-11-16T22:23:37.192093-05:00","updated_at":"2025-11-16T23:05:21.199357-05:00","closed_at":"2025-11-16T23:05:21.199357-05:00","source_repo":"."}
{"id":"catsyphon-p8s","content_hash":"c294d29925d104c5e7b9c75929e25628c0937815ca2a8f680ad3dff22c814ca7","title":"Add integration tests for watch daemon (0% coverage, 236 lines)","description":"Add comprehensive tests for watch.py covering:\n- File detection and processing with temp directories ✅\n- Retry queue with exponential backoff ✅\n- Daemon lifecycle (start/stop/status) ⚠️ Partially covered\n- PID file handling and signal handling ⚠️ Needs improvement\n- Mock file system events with watchdog ✅\n\n**Current Coverage**: 92% (218/236 lines covered)\n**Test Count**: 38 tests passing\n\n**Remaining Gaps**:\n- Lines 257-269: Daemon signal handling\n- Lines 294, 298-301, 311: Edge cases in file processing\n- Lines 405-407, 452-454: PID file edge cases\n\n**Status**: Core functionality fully tested. Optional: Add daemon lifecycle tests for 95%+ coverage.","status":"open","priority":2,"issue_type":"task","created_at":"2025-11-12T22:20:06.501085-05:00","updated_at":"2025-11-13T01:15:01.826499-05:00","source_repo":"."}
{"id":"catsyphon-s89","content_hash":"f4671252af40f6a51115985ffa8291a16aea67f67346dbe2a74b8d1f35fa0531","title":"Implement backend startup dependency validation and readiness probes","description":"","status":"closed","priority":1,"issue_type":"task","created_at":"2025-11-08T00:18:24.474322-05:00","updated_at":"2025-11-08T00:18:42.368256-05:00","closed_at":"2025-11-08T00:18:42.368256-05:00","source_repo":"."}
{"id":"catsyphon-s8h","content_hash":"16a53649d49eb028d11990ac385db939652d05dadc32b6bf312d178db081e2d0","title":"Performance Benchmarks","description":"Benchmark plugin system overhead (\u003c5% vs hardcoded). Benchmark streaming upload vs batch (target: 10x throughput). Benchmark async daemon vs threaded (target: 10x directories). Document results. Files: new backend/tests/benchmarks/. Estimate: 2 days","status":"open","priority":2,"issue_type":"task","created_at":"2025-11-16T11:54:47.91506-05:00","updated_at":"2025-11-16T11:54:47.91506-05:00","source_repo":".","labels":["benchmarks","modernization","testing"]}
{"id":"catsyphon-skm","content_hash":"552219226eee963fbfc8a1379221be6cfa3a395c89f3ca75c69bc74b9bd65d35","title":"Write frontend tests for Ingestion page","description":"","status":"open","priority":2,"issue_type":"task","created_at":"2025-11-14T20:06:05.731144-05:00","updated_at":"2025-11-14T20:06:05.731144-05:00","source_repo":"."}
{"id":"catsyphon-t0a","content_hash":"97cab753417bd02e29549c5a878828c84f01dc68e3f24795dfdfe3145be9be57","title":"Add conversation repository complex query tests (currently 76%)","description":"Complete test coverage for conversation repository complex queries:\n- Advanced filtering edge cases (lines 221-255)\n- Date range boundary conditions\n- Pagination edge cases\n- Statistics aggregation with various filters\nTarget: 90%+ coverage","status":"open","priority":2,"issue_type":"task","created_at":"2025-11-12T22:20:40.126931-05:00","updated_at":"2025-11-12T22:20:40.126931-05:00","source_repo":"."}
{"id":"catsyphon-ter","content_hash":"116c49823c1189eab7692bf4722d0f5626217aefb867864e4627a34d42fdb5da","title":"Watch daemon health check doesn't detect crashed processes","description":"The watch daemon can show as 'active' (is_active=true) in the database even when the process has crashed or been killed. This causes the UI to show incorrect status and prevents new messages from being processed.\n\nRoot cause: Health check only updates stats timestamps but doesn't verify the daemon process is actually running.\n\nImpact:\n- Users see 'Active' status for dead daemons\n- New log messages aren't ingested\n- Requires manual restart to recover\n\nExpected behavior:\n- Health check should verify process exists (check PID)\n- Database should reflect actual daemon state\n- UI should show accurate status\n\nRelated to: catsyphon-wtu (UI status update bug)","status":"open","priority":1,"issue_type":"bug","created_at":"2025-11-16T22:10:29.73409-05:00","updated_at":"2025-11-16T22:10:29.73409-05:00","source_repo":"."}
{"id":"catsyphon-udu","content_hash":"fa82aae967eab2247c6d3ca8c0f0caccf56058e5c29b118c7e7d4b56c6f59caf","title":"Implement Watch Directories tab with CRUD","description":"","status":"closed","priority":1,"issue_type":"task","created_at":"2025-11-14T20:05:37.564099-05:00","updated_at":"2025-11-14T20:15:08.777737-05:00","closed_at":"2025-11-14T20:15:08.777737-05:00","source_repo":"."}
{"id":"catsyphon-wtu","content_hash":"404d9d3251686222c139d4ba614907cbfe675cc4c8a5c24788f9692d15b562b9","title":"Fix watch directory UI not updating to Active status during processing","description":"\nAfter clicking Start button on watch directory config, UI shows Inactive status for 1-2 minutes during initial processing. Only updates to Active after processing is complete/near complete.\n\nBackend investigation shows:\n- Daemon IS running and processing files correctly\n- Database has is_active=true\n- API returns correct data\n\nFrontend issue:\n- React Query aggressive caching (staleTime: 5 minutes) prevented refetching\n- Even with refetchInterval: 5000, stale data was being returned\n\nChanges made:\n- Added staleTime: 0 to force React Query to treat data as always stale\n- Added gcTime: 0 to disable caching entirely\n- Added console.log debugging to trace data flow\n- Verified mutations properly invalidate cache\n\nStatus: Partial fix - caching addressed but UI still doesn't update immediately during processing. Needs further investigation of re-render timing or backend timing of is_active flag update.\n","status":"in_progress","priority":1,"issue_type":"bug","created_at":"2025-11-16T11:10:49.5225-05:00","updated_at":"2025-11-16T11:19:07.918699-05:00","external_ref":"gh-2","source_repo":".","labels":["frontend","ui","watch-daemon"]}
{"id":"catsyphon-xcr","content_hash":"eb121cc63fd01acf509ceb63df68b6e87c3fe154e3659a664277e300d06cb62e","title":"Backend infrastructure for unified ingestion management","description":"Created database schema, repositories, and API routes for unified ingestion management.\n\n**Database:**\n- watch_configurations table with all metadata\n- ingestion_jobs table for tracking history\n- Migration: ac65054bb848\n\n**Repositories:**\n- WatchConfigurationRepository (CRUD + stats)\n- IngestionJobRepository (queries, filters, stats)\n\n**API Routes:**\n- /watch/configs (GET, POST, PUT, DELETE)\n- /watch/configs/{id}/start and /stop\n- /watch/status (daemon status)\n- /ingestion/jobs (GET with filters)\n- /ingestion/stats (aggregated metrics)\n\n**Schemas:**\n- 13 Pydantic models for request/response validation\n\n**Commits:** 1edfff2, d5a597e","status":"closed","priority":1,"issue_type":"task","created_at":"2025-11-14T20:50:43.897573-05:00","updated_at":"2025-11-14T20:50:54.560281-05:00","closed_at":"2025-11-14T20:50:54.560281-05:00","source_repo":"."}
{"id":"catsyphon-y0g","content_hash":"903de2c038619a73fd85414b26a32cff55795b3e52dc0c2448196575d024a017","title":"task","description":"Create ConversationList page with filter bar (7 filters: project, developer, agent_type, status, date range, success). Implement paginated table with columns: start_time, project, developer, agent_type, message_count, status. Add click navigation to detail page. Include loading/error states. Responsive design.","status":"closed","priority":2,"issue_type":"task","created_at":"2025-11-07T23:35:25.599817-05:00","updated_at":"2025-11-07T23:46:06.413733-05:00","closed_at":"2025-11-07T23:46:06.413733-05:00","source_repo":"."}
{"id":"catsyphon-y42","content_hash":"2766f9661ebb22c206930348d2c4ee6829247282121bf79d44da5f30cc0e87a9","title":"PollingObserver tests hang indefinitely during daemon cleanup","description":"Daemon manager tests that use PollingObserver hang indefinitely during stop_all() cleanup. Tests are marked as slow for now. RestartPolicy tests pass quickly (0.38s) but daemon tests hang on test_get_all_status. May be a watchdog library issue or deadlock in observer shutdown logic. Need to investigate if this is a PollingObserver bug or our daemon shutdown code.","status":"open","priority":2,"issue_type":"bug","created_at":"2025-11-15T18:48:22.783091-05:00","updated_at":"2025-11-15T18:48:22.783091-05:00","source_repo":"."}
{"id":"catsyphon-y8d","content_hash":"34e7f501e30b30d10ffe6e54044720da2be33973e6350edf003a6e20cda0fdb2","title":"Implement live directory watching for automatic log ingestion","description":"Watch directory (e.g. ~/.claude/projects/) for new/modified .jsonl files and automatically ingest conversation logs in real-time. Features: file hash deduplication, catsyphon watch CLI command, debouncing for rapid changes, graceful error handling, frontend polling updates. Implementation: Add watchdog library, create DirectoryWatcher class, add file_hash tracking to RawLog table, implement watch command with rich CLI output. Estimated: 3-4 days (MVP in 2 days).","status":"closed","priority":1,"issue_type":"task","created_at":"2025-11-08T12:12:50.748902-05:00","updated_at":"2025-11-12T14:17:01.791125-05:00","closed_at":"2025-11-12T14:17:01.791125-05:00","source_repo":"."}
{"id":"catsyphon-z9q","content_hash":"8f7b8f85b3cbeef7963c012d689a7516c550ddea36fc29730fd8f8e0c47bad37","title":"Core Tagging Module: Base protocol, LLM tagger, cache, rule tagger, pipeline","description":"","status":"closed","priority":1,"issue_type":"task","created_at":"2025-11-12T21:47:53.848345-05:00","updated_at":"2025-11-12T21:51:36.022581-05:00","closed_at":"2025-11-12T21:51:36.022581-05:00","source_repo":".","dependencies":[{"issue_id":"catsyphon-z9q","depends_on_id":"catsyphon-11","type":"blocks","created_at":"2025-11-12T21:47:53.849979-05:00","created_by":"kulesh"}]}
{"id":"catsyphon-zug","content_hash":"4ebe8140590826560f4745abfac90deb100be078be679b12ba728d1c4e35e253","title":"task","description":"Create Dashboard page at / route with overview metrics cards (totals), status breakdown visualization, agent type breakdown, success rate display, and recent activity (last 7 days). Add links to conversations list. Visual clarity with cards/charts.","status":"closed","priority":2,"issue_type":"task","created_at":"2025-11-07T23:35:37.063068-05:00","updated_at":"2025-11-07T23:49:38.217348-05:00","closed_at":"2025-11-07T23:49:38.217348-05:00","source_repo":"."}
